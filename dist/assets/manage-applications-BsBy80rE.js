import{r as F,p as r,e as n,g as e,t as d,n as T,F as L,q as B,l as p,v as g,h as c,z as Z,u as ae,a as ue,y as O,c as N,d as pe,f as ce,m as I,i as W,j as ge,O as X,k as me}from"./index-EqsJQukp.js";import{u as ye}from"./offers-CMuGKdpP.js";import{u as fe}from"./scholarships-BZkcYeM6.js";import{a as xe,_ as ve}from"./navItems-BcGEYHfz.js";import"./authHeader-DkpUnqMe.js";const be={class:"bg-white rounded-lg shadow-sm p-6"},we={class:"mb-6"},he={class:"flex justify-between items-start"},ke={class:"text-xl font-bold text-gray-900"},Se={class:"text-sm text-gray-500 mt-1"},Ce={class:"flex items-center space-x-2"},Ae={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},je={class:"col-span-2"},$e={class:"space-y-6"},Ie={class:"bg-gray-50 rounded-lg p-4"},Me={class:"grid grid-cols-2 gap-4"},Ue={class:"font-medium text-gray-900"},Ve={class:"font-medium text-gray-900"},Ne={class:"font-medium text-gray-900"},Fe={class:"font-medium text-gray-900"},Te={class:"bg-gray-50 rounded-lg p-4"},Le={key:0,class:"text-gray-700 whitespace-pre-line"},De={key:1,class:"text-gray-400 italic"},Pe={key:0,class:"grid grid-cols-2 gap-3"},Oe={class:"text-sm text-gray-700"},Be={key:1,class:"text-gray-400 italic"},Re={class:"space-y-4"},Ee={class:"bg-gray-50 rounded-lg p-4"},ze={class:"space-y-4"},Ge={class:"flex items-start space-x-3"},qe={class:"text-xs text-gray-500"},He={key:0,class:"flex items-start space-x-3"},Je={class:"flex-shrink-0"},Ke={class:"text-sm font-medium text-gray-900"},Qe={class:"text-xs text-gray-500"},We={key:1,class:"flex items-start space-x-3"},Xe={class:"text-xs text-gray-500"},Ye={key:0,class:"bg-gray-50 rounded-lg p-4"},Ze={class:"space-y-2"},_e={class:"flex justify-between text-sm"},et={class:"text-gray-600"},tt={class:"text-gray-900 font-medium"},st={class:"w-full bg-gray-200 rounded-full h-2"},ot={class:"space-y-3 sticky top-4"},Y={__name:"ApplicationReview",props:{application:{type:Object,required:!0}},emits:["update-status","schedule-interview","send-message","update-notes"],setup(a,{emit:M}){const j=a,k=M,w=F(""),S=i=>({pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",interview_scheduled:"bg-blue-100 text-blue-800"})[i]||"bg-gray-100 text-gray-800",m=i=>({pending:"Pending Review",approved:"Approved",rejected:"Rejected",interview_scheduled:"Interview Scheduled"})[i]||i,C=i=>i?new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(i)):"N/A",U=i=>{k("update-status",{...j.application,status:i,reviewNotes:w.value})},u=()=>{k("schedule-interview",j.application)},A=()=>{k("send-message",j.application)};return(i,l)=>{var D;return n(),r("div",be,[e("div",we,[e("div",he,[e("div",null,[e("h3",ke,d(a.application.studentName),1),e("p",Se,d(a.application.studentEmail),1)]),e("div",Ce,[e("span",{class:T(["px-2 py-1 text-xs rounded-full font-medium",S(a.application.status)])},d(m(a.application.status)),3),e("span",{class:T(["px-2 py-1 text-xs rounded-full",a.application.type==="offer"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"])},d(a.application.type==="offer"?"Offer":"Scholarship"),3)])])]),e("div",Ae,[e("div",je,[e("div",$e,[e("div",null,[l[8]||(l[8]=e("h4",{class:"font-medium text-gray-900 mb-2"},"Academic Information",-1)),e("div",Ie,[e("div",Me,[e("div",null,[l[4]||(l[4]=e("p",{class:"text-sm text-gray-600"},"School",-1)),e("p",Ue,d(a.application.school),1)]),e("div",null,[l[5]||(l[5]=e("p",{class:"text-sm text-gray-600"},"Course",-1)),e("p",Ve,d(a.application.course),1)]),e("div",null,[l[6]||(l[6]=e("p",{class:"text-sm text-gray-600"},"Level",-1)),e("p",Ne,d(a.application.level),1)]),e("div",null,[l[7]||(l[7]=e("p",{class:"text-sm text-gray-600"},"GPA",-1)),e("p",Fe,d(a.application.gpa),1)])])])]),e("div",null,[l[9]||(l[9]=e("h4",{class:"font-medium text-gray-900 mb-2"},"Cover Letter",-1)),e("div",Te,[a.application.coverLetter?(n(),r("p",Le,d(a.application.coverLetter),1)):(n(),r("p",De,"No cover letter provided."))])]),e("div",null,[l[11]||(l[11]=e("h4",{class:"font-medium text-gray-900 mb-2"},"Documents",-1)),(D=a.application.documents)!=null&&D.length?(n(),r("div",Pe,[(n(!0),r(L,null,B(a.application.documents,h=>(n(),r("div",{key:h,class:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors"},[l[10]||(l[10]=e("svg",{class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e("span",Oe,d(h),1)]))),128))])):(n(),r("p",Be,"No documents uploaded."))]),e("div",null,[l[12]||(l[12]=e("h4",{class:"font-medium text-gray-900 mb-2"},"Review Notes",-1)),p(e("textarea",{"onUpdate:modelValue":l[0]||(l[0]=h=>w.value=h),onBlur:l[1]||(l[1]=h=>k("update-notes",{id:a.application.id,notes:w.value})),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Add your review notes here..."},null,544),[[g,w.value]])])])]),e("div",null,[e("div",Re,[e("div",Ee,[l[17]||(l[17]=e("h4",{class:"font-medium text-gray-900 mb-3"},"Application Timeline",-1)),e("div",ze,[e("div",Ge,[l[14]||(l[14]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-2 h-2 mt-2 bg-green-500 rounded-full"})],-1)),e("div",null,[l[13]||(l[13]=e("p",{class:"text-sm font-medium text-gray-900"},"Application Submitted",-1)),e("p",qe,d(C(a.application.appliedAt)),1)])]),a.application.status!=="pending"?(n(),r("div",He,[e("div",Je,[e("div",{class:T(["w-2 h-2 mt-2 rounded-full",a.application.status==="approved"?"bg-green-500":"bg-red-500"])},null,2)]),e("div",null,[e("p",Ke,d(a.application.status==="approved"?"Application Approved":"Application Rejected"),1),e("p",Qe,d(C(a.application.lastUpdated)),1)])])):c("",!0),a.application.interviewDate?(n(),r("div",We,[l[16]||(l[16]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-2 h-2 mt-2 bg-blue-500 rounded-full"})],-1)),e("div",null,[l[15]||(l[15]=e("p",{class:"text-sm font-medium text-gray-900"},"Interview Scheduled",-1)),e("p",Xe,d(C(a.application.interviewDate)),1)])])):c("",!0)])]),a.application.type==="scholarship"?(n(),r("div",Ye,[l[18]||(l[18]=e("h4",{class:"font-medium text-gray-900 mb-3"},"Application Progress",-1)),e("div",Ze,[e("div",_e,[e("span",et,"Step "+d(a.application.currentStep)+" of 4",1),e("span",tt,d(Math.round(a.application.currentStep/4*100))+"% ",1)]),e("div",st,[e("div",{class:"bg-primary h-2 rounded-full transition-all",style:Z({width:`${a.application.currentStep/4*100}%`})},null,4)])])])):c("",!0),e("div",ot,[a.application.status==="pending"?(n(),r(L,{key:0},[e("button",{onClick:l[2]||(l[2]=h=>U("approved")),class:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"}," Approve Application "),e("button",{onClick:l[3]||(l[3]=h=>U("rejected")),class:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"}," Reject Application ")],64)):c("",!0),a.application.status==="approved"&&!a.application.interviewDate?(n(),r("button",{key:1,onClick:u,class:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"}," Schedule Interview ")):c("",!0),e("button",{onClick:A,class:"w-full px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors"}," Message Applicant ")])])])])])}}},lt={class:"bg-white rounded-lg shadow p-6 mb-8"},nt={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},rt=["value"],it={class:"bg-white rounded-lg shadow-sm p-4 mb-4 flex items-center justify-between"},dt={class:"flex items-center space-x-4"},at={class:"flex items-center"},ut=["checked"],pt={key:0,class:"text-sm text-gray-500"},ct={key:0,class:"flex items-center space-x-2"},gt={class:"bg-white rounded-lg shadow-sm p-4 mb-4"},mt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},yt={class:"flex space-x-2"},ft={class:"flex space-x-2"},xt={key:0,class:"bg-white rounded-lg shadow-sm"},vt={key:1,class:"bg-white rounded-lg shadow overflow-hidden"},bt={class:"px-6 py-4 border-b border-gray-200 flex justify-between items-center"},wt={class:"text-lg font-semibold text-gray-900"},ht={key:0,class:"p-8 text-center"},kt={key:1,class:"divide-y divide-gray-200"},St={class:"flex items-start space-x-4"},Ct={class:"pt-1"},At=["checked","onChange"],jt={class:"flex-1"},$t={class:"flex items-center space-x-3 mb-2"},It={class:"text-lg font-medium text-gray-900"},Mt={class:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600 mb-3"},Ut={class:"ml-1"},Vt={class:"ml-1"},Nt={class:"ml-1"},Ft={class:"ml-1"},Tt={class:"ml-1"},Lt={class:"ml-1"},Dt={key:0,class:"text-sm text-gray-700 mb-3"},Pt={class:"mt-1"},Ot={key:1,class:"mb-3"},Bt={class:"flex flex-wrap gap-2 mt-1"},Rt={key:2,class:"mb-3"},Et={class:"flex items-center space-x-2"},zt={class:"flex-1 bg-gray-200 rounded-full h-2"},Gt={class:"text-sm text-gray-600"},qt={class:"flex flex-col space-y-2 ml-4"},Ht=["onClick"],Jt={key:0,class:"flex space-x-2"},Kt=["onClick"],Qt=["onClick"],Wt={key:1,class:"flex space-x-2"},Xt=["onClick"],Yt={key:2,class:"space-y-6"},Zt={class:"flex items-center justify-between"},_t={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},es={class:"bg-white rounded-lg p-6 max-w-lg w-full mx-4"},ts={class:"space-y-4"},ss={key:0},os={key:1},ls={class:"mt-6 flex justify-end space-x-3"},ns={key:4,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},rs={class:"bg-white rounded-lg p-6 max-w-lg w-full mx-4"},is={class:"space-y-4"},ds={class:"flex items-center"},as={class:"mt-6 flex justify-end space-x-3"},us={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},ps={class:"bg-white rounded-lg p-6 max-w-lg w-full mx-4"},cs={class:"space-y-4"},gs={key:0},ms={key:1},ys={class:"mt-6 flex justify-end space-x-3"},fs={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},xs={class:"bg-white rounded-lg p-6 max-w-lg w-full mx-4"},vs={class:"space-y-4"},bs={class:"flex items-center"},ws={class:"mt-6 flex justify-end space-x-3"},js={__name:"manage-applications",setup(a){const M=ae(),j=ye(),k=fe(),w=ue(),S=F(null),m=F([]),C=F(!1),U=F(!1),u=O({type:"",status:"",programId:"",search:"",dateFrom:"",dateTo:"",gpaFrom:"",gpaTo:""}),A=O({field:"appliedAt",order:"desc"}),i=O({datetime:"",type:"virtual",link:"",location:"",notes:""}),l=O({subject:"",content:"",sendCopy:!1});j.initializeOffers(),k.initializeScholarships();const D=N(()=>{var s,f;const o=j.getSponsorOffers((s=M.user)==null?void 0:s.id)||[],t=k.getSponsorScholarships((f=M.user)==null?void 0:f.id)||[];return[...o.map(y=>({...y,type:"offer"})),...t.map(y=>({...y,type:"scholarship"}))]}),h=N(()=>{var f,y;const o=[];return(j.getSponsorOffers((f=M.user)==null?void 0:f.id)||[]).forEach(b=>{var x;(x=b.applications)==null||x.forEach(v=>{o.push({...v,type:"offer",programId:b.id,programTitle:b.title})})}),(k.getSponsorScholarships((y=M.user)==null?void 0:y.id)||[]).forEach(b=>{var x;(x=b.applications)==null||x.forEach(v=>{o.push({...v,type:"scholarship",programId:b.id,programTitle:b.title})})}),o.sort((b,x)=>new Date(x.appliedAt)-new Date(b.appliedAt))}),$=N(()=>{let o=h.value;if(u.type&&(o=o.filter(t=>t.type===u.type)),u.status&&(o=o.filter(t=>t.status===u.status)),u.programId&&(o=o.filter(t=>t.programId===parseInt(u.programId))),u.search){const t=u.search.toLowerCase();o=o.filter(s=>s.studentName.toLowerCase().includes(t)||s.studentEmail.toLowerCase().includes(t))}return o}),_=o=>({pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",interview_scheduled:"bg-blue-100 text-blue-800",awarded:"bg-purple-100 text-purple-800"})[o]||"bg-gray-100 text-gray-800",E=o=>({pending:"Pending Review",approved:"Approved",rejected:"Rejected",interview_scheduled:"Interview Scheduled",awarded:"Awarded"})[o]||o,z=o=>new Date(o).toLocaleDateString(),G=o=>{var s;const t=k.getScholarshipById(o);return((s=t==null?void 0:t.applicationProcess)==null?void 0:s.length)||1},ee=o=>{S.value=o},R=async(o,t)=>{try{o.type==="offer"?j.updateApplicationStatus(o.programId,o.id,t):k.updateApplicationStatus(o.programId,o.id,t),w.addNotification({type:"success",title:"Application updated",message:`Application has been ${t}`}),S.value=null}catch{w.addNotification({type:"error",title:"Update failed",message:"Failed to update application status"})}},q=N(()=>$.value.length>0&&$.value.every(o=>m.value.includes(o.id))),te=N(()=>[...$.value].sort((o,t)=>{const s=o[A.field],f=t[A.field];return A.order==="asc"?s<f?-1:1:s>f?-1:1})),se=()=>{q.value?m.value=[]:m.value=$.value.map(o=>o.id)},oe=o=>m.value.includes(o.id),le=o=>{const t=m.value.indexOf(o.id);t===-1?m.value.push(o.id):m.value.splice(t,1)},H=async o=>{try{for(const t of m.value){const s=h.value.find(f=>f.id===t);s&&await R(s,o)}m.value=[],w.addNotification({type:"success",title:"Bulk update successful",message:`Successfully updated ${m.value.length} applications`})}catch{w.addNotification({type:"error",title:"Bulk update failed",message:"Failed to update some applications"})}},ne=()=>{C.value=!0},J=o=>{S.value=o,C.value=!0},P=()=>{C.value=!1,Object.assign(i,{datetime:"",type:"virtual",link:"",location:"",notes:""})},V=()=>{U.value=!1,Object.assign(l,{subject:"",content:"",sendCopy:!1})},K=async o=>{try{await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({applicationId:o.id,recipientEmail:o.studentEmail,subject:"Application Update",message:l.content,sendCopy:l.sendCopy})}),w.addNotification({type:"success",title:"Message Sent",message:`Message has been sent to ${o.studentName}`}),V()}catch{w.addNotification({type:"error",title:"Message Failed",message:"Failed to send the message"})}},re=()=>{const o=h.value.filter(t=>m.value.includes(t.id));Q(o)},ie=()=>{Q($.value)},Q=o=>{const t=["Student Name","Email","Program","Type","Status","Applied Date","GPA"],s=o.map(v=>[v.studentName,v.studentEmail,v.programTitle,v.type,E(v.status),z(v.appliedAt),v.gpa]),f=[t.join(","),...s.map(v=>v.join(","))].join(`
`),y=new Blob([f],{type:"text/csv"}),b=window.URL.createObjectURL(y),x=document.createElement("a");x.setAttribute("href",b),x.setAttribute("download",`applications-export-${new Date().toISOString()}.csv`),document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(b)},de=()=>{Object.assign(u,{type:"",status:"",programId:"",search:"",dateFrom:"",dateTo:"",gpaFrom:"",gpaTo:""})};return(o,t)=>(n(),pe(ve,{"navigation-items":me(xe),"page-title":"Settings","page-subtitle":"Manage your account settings and preferences"},{default:ce(()=>[t[85]||(t[85]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900"},"Manage Applications"),e("p",{class:"text-gray-600 mt-2"},"Review and manage applications for your offers and scholarships")],-1)),e("div",lt,[e("div",nt,[e("div",null,[t[34]||(t[34]=e("label",{for:"typeFilter",class:"block text-sm font-medium text-gray-700 mb-2"},"Type",-1)),p(e("select",{id:"typeFilter","onUpdate:modelValue":t[0]||(t[0]=s=>u.type=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},t[33]||(t[33]=[e("option",{value:""},"All Types",-1),e("option",{value:"offer"},"Offers",-1),e("option",{value:"scholarship"},"Scholarships",-1)]),512),[[I,u.type]])]),e("div",null,[t[36]||(t[36]=e("label",{for:"statusFilter",class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),p(e("select",{id:"statusFilter","onUpdate:modelValue":t[1]||(t[1]=s=>u.status=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},t[35]||(t[35]=[e("option",{value:""},"All Statuses",-1),e("option",{value:"pending"},"Pending Review",-1),e("option",{value:"approved"},"Approved",-1),e("option",{value:"rejected"},"Rejected",-1),e("option",{value:"interview_scheduled"},"Interview Scheduled",-1)]),512),[[I,u.status]])]),e("div",null,[t[38]||(t[38]=e("label",{for:"programFilter",class:"block text-sm font-medium text-gray-700 mb-2"},"Program",-1)),p(e("select",{id:"programFilter","onUpdate:modelValue":t[2]||(t[2]=s=>u.programId=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"},[t[37]||(t[37]=e("option",{value:""},"All Programs",-1)),(n(!0),r(L,null,B(D.value,s=>(n(),r("option",{key:s.id,value:s.id},d(s.title),9,rt))),128))],512),[[I,u.programId]])]),e("div",null,[t[39]||(t[39]=e("label",{for:"searchFilter",class:"block text-sm font-medium text-gray-700 mb-2"},"Search",-1)),p(e("input",{id:"searchFilter","onUpdate:modelValue":t[3]||(t[3]=s=>u.search=s),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Student name or email"},null,512),[[g,u.search]])])])]),e("div",it,[e("div",dt,[e("label",at,[e("input",{type:"checkbox",checked:q.value,onChange:se,class:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"},null,40,ut),t[40]||(t[40]=e("span",{class:"ml-2 text-sm text-gray-600"},"Select All",-1))]),m.value.length?(n(),r("span",pt,d(m.value.length)+" selected ",1)):c("",!0)]),m.value.length?(n(),r("div",ct,[e("button",{onClick:t[4]||(t[4]=s=>H("approved")),class:"px-3 py-1.5 bg-green-600 text-white text-sm rounded hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"}," Approve Selected "),e("button",{onClick:t[5]||(t[5]=s=>H("rejected")),class:"px-3 py-1.5 bg-red-600 text-white text-sm rounded hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"}," Reject Selected "),e("button",{onClick:ne,class:"px-3 py-1.5 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Schedule Interviews "),e("button",{onClick:re,class:"px-3 py-1.5 bg-gray-600 text-white text-sm rounded hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"}," Export Selected ")])):c("",!0)]),e("div",gt,[e("div",{class:"flex items-center justify-between mb-4"},[t[41]||(t[41]=e("h3",{class:"text-sm font-medium text-gray-700"},"Advanced Filters",-1)),e("button",{onClick:de,class:"text-sm text-gray-500 hover:text-gray-700"}," Clear Filters ")]),e("div",mt,[e("div",null,[t[42]||(t[42]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date Range",-1)),e("div",yt,[p(e("input",{type:"date","onUpdate:modelValue":t[6]||(t[6]=s=>u.dateFrom=s),class:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-primary"},null,512),[[g,u.dateFrom]]),p(e("input",{type:"date","onUpdate:modelValue":t[7]||(t[7]=s=>u.dateTo=s),class:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-primary"},null,512),[[g,u.dateTo]])])]),e("div",null,[t[43]||(t[43]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"GPA Range",-1)),e("div",ft,[p(e("input",{type:"number","onUpdate:modelValue":t[8]||(t[8]=s=>u.gpaFrom=s),placeholder:"Min",step:"0.1",min:"0",max:"5",class:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-primary"},null,512),[[g,u.gpaFrom]]),p(e("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=s=>u.gpaTo=s),placeholder:"Max",step:"0.1",min:"0",max:"5",class:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-primary"},null,512),[[g,u.gpaTo]])])]),e("div",null,[t[46]||(t[46]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Sort By",-1)),p(e("select",{"onUpdate:modelValue":t[10]||(t[10]=s=>A.field=s),class:"w-2/3 px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-primary"},t[44]||(t[44]=[e("option",{value:"appliedAt"},"Application Date",-1),e("option",{value:"studentName"},"Student Name",-1),e("option",{value:"gpa"},"GPA",-1),e("option",{value:"status"},"Status",-1)]),512),[[I,A.field]]),p(e("select",{"onUpdate:modelValue":t[11]||(t[11]=s=>A.order=s),class:"w-1/3 px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-primary"},t[45]||(t[45]=[e("option",{value:"asc"},"Asc",-1),e("option",{value:"desc"},"Desc",-1)]),512),[[I,A.order]])])])]),S.value?(n(),r("div",xt,[W(Y,{application:S.value,onUpdateStatus:o.handleStatusUpdate,onScheduleInterview:J,onSendMessage:K},null,8,["application","onUpdateStatus"])])):(n(),r("div",vt,[e("div",bt,[e("h2",wt," Applications ("+d($.value.length)+") ",1),e("div",{class:"flex items-center space-x-2"},[e("button",{onClick:ie,class:"px-3 py-1.5 text-sm text-gray-600 hover:text-gray-900 flex items-center space-x-1"},t[47]||(t[47]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),e("span",null,"Export All",-1)]))])]),$.value.length===0?(n(),r("div",ht,t[48]||(t[48]=[e("svg",{class:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("p",{class:"text-gray-500"},"No applications found",-1)]))):(n(),r("div",kt,[(n(!0),r(L,null,B(te.value,s=>{var f;return n(),r("div",{key:`${s.type}-${s.programId}-${s.id}`,class:"p-6 hover:bg-gray-50"},[e("div",St,[e("div",Ct,[e("input",{type:"checkbox",checked:oe(s),onChange:y=>le(s),class:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"},null,40,At)]),e("div",jt,[e("div",$t,[e("h3",It,d(s.studentName),1),e("span",{class:T(["px-2 py-1 text-xs rounded-full",_(s.status)])},d(E(s.status)),3),e("span",{class:T(["px-2 py-1 text-xs rounded-full",s.type==="offer"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"])},d(s.type==="offer"?"Offer":"Scholarship"),3)]),e("div",Mt,[e("div",null,[t[49]||(t[49]=e("span",{class:"font-medium"},"Program:",-1)),e("span",Ut,d(s.programTitle),1)]),e("div",null,[t[50]||(t[50]=e("span",{class:"font-medium"},"School:",-1)),e("span",Vt,d(s.school),1)]),e("div",null,[t[51]||(t[51]=e("span",{class:"font-medium"},"Course:",-1)),e("span",Nt,d(s.course),1)]),e("div",null,[t[52]||(t[52]=e("span",{class:"font-medium"},"Level:",-1)),e("span",Ft,d(s.level),1)]),e("div",null,[t[53]||(t[53]=e("span",{class:"font-medium"},"GPA:",-1)),e("span",Tt,d(s.gpa),1)]),e("div",null,[t[54]||(t[54]=e("span",{class:"font-medium"},"Applied:",-1)),e("span",Lt,d(z(s.appliedAt)),1)])]),s.coverLetter?(n(),r("div",Dt,[t[55]||(t[55]=e("span",{class:"font-medium"},"Cover Letter:",-1)),e("p",Pt,d(s.coverLetter.substring(0,200))+"...",1)])):c("",!0),(f=s.documents)!=null&&f.length?(n(),r("div",Ot,[t[56]||(t[56]=e("span",{class:"text-sm font-medium text-gray-700"},"Documents:",-1)),e("div",Bt,[(n(!0),r(L,null,B(s.documents,y=>(n(),r("span",{key:y,class:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded"},d(y),1))),128))])])):c("",!0),s.type==="scholarship"&&s.currentStep?(n(),r("div",Rt,[e("div",Et,[t[57]||(t[57]=e("span",{class:"text-sm font-medium text-gray-700"},"Progress:",-1)),e("div",zt,[e("div",{class:"bg-indigo-600 h-2 rounded-full",style:Z({width:`${s.currentStep/G(s.programId)*100}%`})},null,4)]),e("span",Gt," Step "+d(s.currentStep)+" of "+d(G(s.programId)),1)])])):c("",!0)]),e("div",qt,[e("button",{onClick:y=>ee(s),class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-sm"}," View Details ",8,Ht),s.status==="pending"?(n(),r("div",Jt,[e("button",{onClick:y=>R(s,"approved"),class:"px-3 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700"}," Approve ",8,Kt),e("button",{onClick:y=>R(s,"rejected"),class:"px-3 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700"}," Reject ",8,Qt)])):c("",!0),s.type==="scholarship"&&s.status==="approved"?(n(),r("div",Wt,[e("button",{onClick:y=>o.scheduleInterview(s),class:"px-3 py-1 bg-purple-600 text-white rounded text-xs hover:bg-purple-700"}," Schedule Interview ",8,Xt)])):c("",!0)])])])}),128))]))])),S.value?(n(),r("div",Yt,[e("div",Zt,[e("button",{onClick:t[12]||(t[12]=s=>S.value=null),class:"flex items-center text-gray-600 hover:text-gray-900"},t[58]||(t[58]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),ge(" Back to Applications ")]))]),W(Y,{application:S.value,onUpdateStatus:o.handleStatusUpdate,onScheduleInterview:J,onSendMessage:K},null,8,["application","onUpdateStatus"])])):c("",!0),C.value?(n(),r("div",_t,[e("div",es,[e("div",{class:"flex justify-between items-start mb-4"},[t[60]||(t[60]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Schedule Interview",-1)),e("button",{onClick:P,class:"text-gray-400 hover:text-gray-600"},t[59]||(t[59]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",ts,[e("div",null,[t[61]||(t[61]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Interview Date",-1)),p(e("input",{type:"datetime-local","onUpdate:modelValue":t[13]||(t[13]=s=>i.datetime=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary"},null,512),[[g,i.datetime]])]),e("div",null,[t[63]||(t[63]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Interview Type",-1)),p(e("select",{"onUpdate:modelValue":t[14]||(t[14]=s=>i.type=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary"},t[62]||(t[62]=[e("option",{value:"virtual"},"Virtual",-1),e("option",{value:"in-person"},"In Person",-1),e("option",{value:"phone"},"Phone",-1)]),512),[[I,i.type]])]),i.type==="virtual"?(n(),r("div",ss,[t[64]||(t[64]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Meeting Link",-1)),p(e("input",{type:"url","onUpdate:modelValue":t[15]||(t[15]=s=>i.link=s),placeholder:"https://meet.google.com/...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary"},null,512),[[g,i.link]])])):c("",!0),i.type==="in-person"?(n(),r("div",os,[t[65]||(t[65]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Location",-1)),p(e("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=s=>i.location=s),placeholder:"Office address...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary"},null,512),[[g,i.location]])])):c("",!0),e("div",null,[t[66]||(t[66]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Notes",-1)),p(e("textarea",{"onUpdate:modelValue":t[17]||(t[17]=s=>i.notes=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"Any additional information..."},null,512),[[g,i.notes]])])]),e("div",ls,[e("button",{onClick:P,class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"}," Cancel "),e("button",{onClick:t[18]||(t[18]=(...s)=>o.confirmScheduleInterview&&o.confirmScheduleInterview(...s)),class:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary-dark"}," Schedule Interview ")])])])):c("",!0),U.value?(n(),r("div",ns,[e("div",rs,[e("div",{class:"flex justify-between items-start mb-4"},[t[68]||(t[68]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Send Message",-1)),e("button",{onClick:V,class:"text-gray-400 hover:text-gray-600"},t[67]||(t[67]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",is,[e("div",null,[t[69]||(t[69]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Subject",-1)),p(e("input",{type:"text","onUpdate:modelValue":t[19]||(t[19]=s=>l.subject=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"Message subject..."},null,512),[[g,l.subject]])]),e("div",null,[t[70]||(t[70]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Message",-1)),p(e("textarea",{"onUpdate:modelValue":t[20]||(t[20]=s=>l.content=s),rows:"5",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"Type your message here..."},null,512),[[g,l.content]])]),e("div",ds,[p(e("input",{type:"checkbox","onUpdate:modelValue":t[21]||(t[21]=s=>l.sendCopy=s),id:"sendCopy",class:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"},null,512),[[X,l.sendCopy]]),t[71]||(t[71]=e("label",{for:"sendCopy",class:"ml-2 text-sm text-gray-600"}," Send me a copy ",-1))])]),e("div",as,[e("button",{onClick:V,class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"}," Cancel "),e("button",{onClick:t[22]||(t[22]=(...s)=>o.sendMessage&&o.sendMessage(...s)),class:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary-dark"}," Send Message ")]),C.value?(n(),r("div",us,[e("div",ps,[e("div",{class:"flex justify-between items-start mb-4"},[t[73]||(t[73]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Schedule Interview",-1)),e("button",{onClick:P,class:"text-gray-400 hover:text-gray-600"},t[72]||(t[72]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",cs,[e("div",null,[t[74]||(t[74]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Interview Date",-1)),p(e("input",{type:"datetime-local","onUpdate:modelValue":t[23]||(t[23]=s=>i.datetime=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary"},null,512),[[g,i.datetime]])]),e("div",null,[t[76]||(t[76]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Interview Type",-1)),p(e("select",{"onUpdate:modelValue":t[24]||(t[24]=s=>i.type=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary"},t[75]||(t[75]=[e("option",{value:"virtual"},"Virtual",-1),e("option",{value:"in-person"},"In Person",-1),e("option",{value:"phone"},"Phone",-1)]),512),[[I,i.type]])]),i.type==="virtual"?(n(),r("div",gs,[t[77]||(t[77]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Meeting Link",-1)),p(e("input",{type:"url","onUpdate:modelValue":t[25]||(t[25]=s=>i.link=s),placeholder:"https://meet.google.com/...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary"},null,512),[[g,i.link]])])):c("",!0),i.type==="in-person"?(n(),r("div",ms,[t[78]||(t[78]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Location",-1)),p(e("input",{type:"text","onUpdate:modelValue":t[26]||(t[26]=s=>i.location=s),placeholder:"Office address...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary"},null,512),[[g,i.location]])])):c("",!0),e("div",null,[t[79]||(t[79]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Notes",-1)),p(e("textarea",{"onUpdate:modelValue":t[27]||(t[27]=s=>i.notes=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"Any additional information..."},null,512),[[g,i.notes]])])]),e("div",ys,[e("button",{onClick:P,class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"}," Cancel "),e("button",{onClick:t[28]||(t[28]=(...s)=>o.confirmScheduleInterview&&o.confirmScheduleInterview(...s)),class:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary-dark"}," Schedule Interview ")])])])):c("",!0),U.value?(n(),r("div",fs,[e("div",xs,[e("div",{class:"flex justify-between items-start mb-4"},[t[81]||(t[81]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Send Message",-1)),e("button",{onClick:V,class:"text-gray-400 hover:text-gray-600"},t[80]||(t[80]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",vs,[e("div",null,[t[82]||(t[82]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Subject",-1)),p(e("input",{type:"text","onUpdate:modelValue":t[29]||(t[29]=s=>l.subject=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"Message subject..."},null,512),[[g,l.subject]])]),e("div",null,[t[83]||(t[83]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Message",-1)),p(e("textarea",{"onUpdate:modelValue":t[30]||(t[30]=s=>l.content=s),rows:"5",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"Type your message here..."},null,512),[[g,l.content]])]),e("div",bs,[p(e("input",{type:"checkbox","onUpdate:modelValue":t[31]||(t[31]=s=>l.sendCopy=s),id:"sendCopy",class:"h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary"},null,512),[[X,l.sendCopy]]),t[84]||(t[84]=e("label",{for:"sendCopy",class:"ml-2 text-sm text-gray-600"}," Send me a copy ",-1))])]),e("div",ws,[e("button",{onClick:V,class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"}," Cancel "),e("button",{onClick:t[32]||(t[32]=(...s)=>o.sendMessage&&o.sendMessage(...s)),class:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary-dark"}," Send Message ")])])])):c("",!0)])])):c("",!0)]),_:1,__:[85]},8,["navigation-items"]))}};export{js as default};
