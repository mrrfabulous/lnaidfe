import{x as V,a as U,r as p,c as g,o as B,d as G,e as l,f as I,g as e,k as a,i as d,j as w,t as r,l as b,v as R,p as n,F as v,q as h,O as k,n as E,h as P}from"./index-EqsJQukp.js";import{u as q}from"./offers-CMuGKdpP.js";import{a as z,_ as Q}from"./navItems-BcGEYHfz.js";import{m as H}from"./mockOffers-tLQoW2PK.js";import{r as C}from"./PlusIcon-BtIAwDfQ.js";import{r as J}from"./DocumentTextIcon-CyJZo60w.js";import{r as K}from"./UsersIcon-DPpavatF.js";import{r as W}from"./CurrencyDollarIcon-TzVtvSSx.js";import{r as X}from"./ClockIcon-CI-NDIwb.js";import{r as Y}from"./MagnifyingGlassIcon-CXXQ-I3h.js";import{r as Z}from"./DocumentIcon-B5HM3ZbK.js";import"./authHeader-DkpUnqMe.js";const ee={class:"min-h-screen bg-gray-50"},te={class:"bg-white border-b border-gray-200"},se={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},oe={class:"flex items-center justify-between h-16"},re={class:"flex items-center space-x-4"},le={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},ae={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},ne={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},ie={class:"flex items-center"},de={class:"p-2 bg-coral-100 rounded-lg"},ce={class:"ml-4"},ue={class:"text-2xl font-bold text-gray-900"},me={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},xe={class:"flex items-center"},pe={class:"p-2 bg-blue-100 rounded-lg"},ge={class:"ml-4"},fe={class:"text-2xl font-bold text-gray-900"},ve={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},he={class:"flex items-center"},ye={class:"p-2 bg-purple-100 rounded-lg"},be={class:"ml-4"},_e={class:"text-2xl font-bold text-gray-900"},we={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},ke={class:"flex items-center"},Ce={class:"p-2 bg-amber-100 rounded-lg"},De={class:"ml-4"},Se={class:"text-2xl font-bold text-gray-900"},$e={class:"flex flex-col lg:flex-row gap-8"},Oe={class:"lg:w-72 flex-shrink-0"},Te={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 sticky top-6"},Fe={class:"space-y-6"},je={class:"relative"},Ae={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},Me={class:"space-y-2"},Le=["value"],Ne={class:"ml-2 text-sm text-gray-700"},Ve={class:"space-y-2"},Ue=["value"],Be={class:"ml-2 text-sm text-gray-700"},Ge={class:"flex-1"},Ie={key:0,class:"flex justify-center items-center h-64"},Re={key:1,class:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center"},Ee={class:"mt-1 text-sm text-gray-500"},Pe={class:"mt-6"},qe={key:2,class:"grid grid-cols-1 gap-6"},ze={class:"p-6"},Qe={class:"flex items-start justify-between"},He={class:"text-lg font-semibold text-gray-900"},Je={class:"mt-1 text-sm text-gray-500 line-clamp-2"},Ke={class:"mt-4 grid grid-cols-2 gap-4 sm:grid-cols-4"},We={class:"mt-1 text-sm font-semibold text-gray-900"},Xe={class:"mt-1 text-sm text-gray-900"},Ye={class:"mt-1 text-sm text-gray-900"},Ze={class:"mt-1 text-sm text-gray-900"},et={class:"mt-4"},tt={class:"flex flex-wrap gap-2"},st={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},ot={class:"mt-6 flex items-center justify-end space-x-4"},rt=["onClick"],lt=["onClick"],yt={__name:"index",setup(at){const f=V();q();const D=U(),y=p(!1),m=p(H),x=p(""),c=p([]),u=p([]),S=[{label:"Active",value:"active"},{label:"Draft",value:"draft"},{label:"Closed",value:"closed"}],$=["Internship Support","Fellowship","Research Grant","Travel Grant","Project Funding","Professional Development","Study Abroad","Other"],O=g(()=>m.value.filter(o=>o.status==="active").length),T=g(()=>m.value.reduce((o,t)=>o+(t.applicantCount||0),0)),F=g(()=>m.value.reduce((o,t)=>o+t.amount,0)),j=g(()=>{const o=new Date;return o.setDate(o.getDate()+30),m.value.filter(t=>new Date(t.deadline)<=o&&new Date(t.deadline)>new Date&&t.status==="active").length}),_=g(()=>m.value.filter(o=>{if(c.value.length>0&&!c.value.includes(o.status)||u.value.length>0&&!u.value.includes(o.type))return!1;if(x.value){const t=x.value.toLowerCase();return o.offerTitle.toLowerCase().includes(t)||o.description.toLowerCase().includes(t)||o.type.toLowerCase().includes(t)}return!0})),A=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),M=o=>{f.push(`/sponsor/offers/${o}`)},L=o=>{f.push(`/sponsor/manage-applications?offerId=${o}`)},N=()=>{x.value="",c.value=[],u.value=[]};return B(async()=>{try{y.value=!0}catch{D.showError("Failed to load offers")}finally{y.value=!1}}),(o,t)=>(l(),G(Q,{"navigation-items":a(z),"page-title":"My Offers"},{default:I(()=>[e("div",ee,[e("div",te,[e("div",se,[e("div",oe,[t[6]||(t[6]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"My Offers"),e("p",{class:"text-sm text-gray-500"}," Manage your funding opportunities and review applications ")],-1)),e("div",re,[e("button",{onClick:t[0]||(t[0]=s=>a(f).push("/sponsor/offers/create")),class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-coral-600 hover:bg-coral-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-coral-500"},[d(a(C),{class:"w-5 h-5 mr-2"}),t[5]||(t[5]=w(" Create Offer "))])])])])]),e("div",le,[e("div",ae,[e("div",ne,[e("div",ie,[e("div",de,[d(a(J),{class:"w-6 h-6 text-coral-600"})]),e("div",ce,[t[7]||(t[7]=e("p",{class:"text-sm font-medium text-gray-600"},"Active Offers",-1)),e("p",ue,r(O.value),1)])])]),e("div",me,[e("div",xe,[e("div",pe,[d(a(K),{class:"w-6 h-6 text-blue-600"})]),e("div",ge,[t[8]||(t[8]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Applicants",-1)),e("p",fe,r(T.value),1)])])]),e("div",ve,[e("div",he,[e("div",ye,[d(a(W),{class:"w-6 h-6 text-purple-600"})]),e("div",be,[t[9]||(t[9]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Funding",-1)),e("p",_e," $"+r(F.value.toLocaleString()),1)])])]),e("div",we,[e("div",ke,[e("div",Ce,[d(a(X),{class:"w-6 h-6 text-amber-600"})]),e("div",De,[t[10]||(t[10]=e("p",{class:"text-sm font-medium text-gray-600"},"Closing Soon",-1)),e("p",Se,r(j.value),1)])])])]),e("div",$e,[e("div",Oe,[e("div",Te,[e("div",Fe,[e("div",null,[t[11]||(t[11]=e("label",{for:"search",class:"sr-only"},"Search offers",-1)),e("div",je,[e("div",Ae,[d(a(Y),{class:"h-5 w-5 text-gray-400"})]),b(e("input",{id:"search","onUpdate:modelValue":t[1]||(t[1]=s=>x.value=s),class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-coral-500 focus:border-coral-500 sm:text-sm",placeholder:"Search offers",type:"search"},null,512),[[R,x.value]])])]),e("div",null,[t[12]||(t[12]=e("h3",{class:"text-sm font-medium text-gray-900 mb-2"},"Status",-1)),e("div",Me,[(l(),n(v,null,h(S,s=>e("label",{key:s.value,class:"flex items-center"},[b(e("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=i=>c.value=i),value:s.value,class:"h-4 w-4 text-coral-600 focus:ring-coral-500 border-gray-300 rounded"},null,8,Le),[[k,c.value]]),e("span",Ne,r(s.label),1)])),64))])]),e("div",null,[t[13]||(t[13]=e("h3",{class:"text-sm font-medium text-gray-900 mb-2"},"Type",-1)),e("div",Ve,[(l(),n(v,null,h($,s=>e("label",{key:s,class:"flex items-center"},[b(e("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=i=>u.value=i),value:s,class:"h-4 w-4 text-coral-600 focus:ring-coral-500 border-gray-300 rounded"},null,8,Ue),[[k,u.value]]),e("span",Be,r(s),1)])),64))])]),e("button",{onClick:N,class:"w-full px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50"}," Clear Filters ")])])]),e("div",Ge,[y.value?(l(),n("div",Ie,t[14]||(t[14]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-coral-600"},null,-1)]))):_.value.length===0?(l(),n("div",Re,[d(a(Z),{class:"mx-auto h-12 w-12 text-gray-400"}),t[16]||(t[16]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No offers found",-1)),e("p",Ee,r(c.value.length>0||u.value.length>0?"Try adjusting your filters":"Get started by creating a new offer"),1),e("div",Pe,[e("button",{onClick:t[4]||(t[4]=s=>a(f).push("/sponsor/offers/create")),class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-coral-600 hover:bg-coral-700"},[d(a(C),{class:"w-5 h-5 mr-2"}),t[15]||(t[15]=w(" Create Offer "))])])])):(l(),n("div",qe,[(l(!0),n(v,null,h(_.value,s=>(l(),n("div",{key:s.id,class:"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200"},[e("div",ze,[e("div",Qe,[e("div",null,[e("h3",He,r(s.offerTitle),1),e("p",Je,r(s.description),1)]),e("span",{class:E([s.status==="active"?"bg-green-100 text-green-800":s.status==="draft"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},r(s.status.charAt(0).toUpperCase()+s.status.slice(1)),3)]),e("div",Ke,[e("div",null,[t[17]||(t[17]=e("dt",{class:"text-sm font-medium text-gray-500"},"Amount",-1)),e("dd",We,"$"+r(s.amount.toLocaleString()),1)]),e("div",null,[t[18]||(t[18]=e("dt",{class:"text-sm font-medium text-gray-500"},"Duration",-1)),e("dd",Xe,r(s.duration),1)]),e("div",null,[t[19]||(t[19]=e("dt",{class:"text-sm font-medium text-gray-500"},"Type",-1)),e("dd",Ye,r(s.type),1)]),e("div",null,[t[20]||(t[20]=e("dt",{class:"text-sm font-medium text-gray-500"},"Deadline",-1)),e("dd",Ze,r(A(s.deadline)),1)])]),e("div",et,[e("div",tt,[(l(!0),n(v,null,h(s.targetMajors.slice(0,3),i=>(l(),n("span",{key:i,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},r(i),1))),128)),s.targetMajors.length>3?(l(),n("span",st," +"+r(s.targetMajors.length-3)+" more ",1)):P("",!0)])]),e("div",ot,[e("button",{onClick:i=>M(s.id),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-coral-600 bg-coral-50 hover:bg-coral-100"}," View Details ",8,rt),e("button",{onClick:i=>L(s.id),class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"}," Review Applications ",8,lt)])])]))),128))]))])])])])]),_:1},8,["navigation-items"]))}};export{yt as default};
