import{x as G,u as Y,a as H,y as _,o as X,c as b,b as J,d as K,e as u,f,g as e,i as r,p,h as w,t as l,k as a,l as h,v as k,m as N,F as Q,q as Z,n as T,z as ee}from"./index-EqsJQukp.js";import{u as te}from"./applications-CVJmNFuW.js";import{c as se,F as W,S as z,G as oe,s as re,_ as le}from"./navItems-BcGEYHfz.js";import{_ as ne}from"./ApplicationModal-kxLG78Mn.js";import{C as ae}from"./clock-DxilSQJB.js";import{C as ie}from"./circle-check-big-BfLp0Q0m.js";import{T as de}from"./trending-up-D3ODJZ_R.js";import{B as ce}from"./briefcase-DCx-JBHg.js";import{C as ue}from"./calendar-QZZnOdG5.js";import{E as pe}from"./eye-4dZziO83.js";import{X as C}from"./x-c6Y77DFi.js";import"./authHeader-DkpUnqMe.js";import"./upload-C3RSQhGF.js";/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=se("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),me={class:"min-h-screen bg-gray-50"},ge={class:"bg-white border-b border-gray-200"},fe={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},he={class:"flex items-center justify-between h-16"},ye={class:"flex items-center space-x-4"},be={class:"text-sm text-gray-600"},we={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},ve={class:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8"},_e={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},ke={class:"flex items-center justify-between"},Ce={class:"text-3xl font-bold text-gray-900 mt-2"},Ae={class:"p-3 bg-blue-100 rounded-xl"},je={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},Se={class:"flex items-center justify-between"},De={class:"text-3xl font-bold text-gray-900 mt-2"},Re={class:"p-3 bg-yellow-100 rounded-xl"},Ue={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},$e={class:"flex items-center justify-between"},Me={class:"text-3xl font-bold text-gray-900 mt-2"},Ve={class:"p-3 bg-purple-100 rounded-xl"},Ne={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},Te={class:"flex items-center justify-between"},We={class:"text-3xl font-bold text-gray-900 mt-2"},ze={class:"p-3 bg-green-100 rounded-xl"},Be={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},Le={class:"flex items-center justify-between"},qe={class:"text-3xl font-bold text-gray-900 mt-2"},Fe={class:"p-3 bg-coral-100 rounded-xl"},Pe={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mb-8"},Ee={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0"},Ie={class:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 flex-1"},Oe={class:"relative"},Ge={key:0,class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-12 text-center"},Ye={class:"text-gray-600 mb-6"},He={key:0,class:"flex justify-center space-x-4"},Xe={key:1,class:"grid gap-6"},Je={class:"p-6"},Ke={class:"flex items-start justify-between mb-4"},Qe={class:"flex-1"},Ze={class:"flex items-center space-x-3 mb-2"},et={class:"text-xl font-semibold text-gray-900"},tt={class:"text-gray-600 mb-2"},st={class:"text-gray-700 line-clamp-2"},ot={class:"text-right ml-6"},rt={class:"text-2xl font-bold text-coral-600"},lt={class:"mb-4"},nt={class:"flex items-center justify-between text-sm text-gray-600 mb-2"},at={class:"w-full bg-gray-200 rounded-full h-2"},it={class:"flex items-center justify-between pt-4 border-t border-gray-100"},dt={class:"flex items-center space-x-2 text-sm text-gray-500"},ct={class:"flex items-center space-x-2"},ut=["onClick"],pt={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},xt={class:"bg-white rounded-2xl p-8 max-w-md w-full mx-4"},mt={class:"flex items-center justify-between mb-6"},gt={class:"text-gray-600 mb-6"},ft={class:"mb-6"},ht={class:"flex justify-end space-x-4"},yt={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},bt={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0"},wt={class:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl"},vt={class:"flex items-center justify-between mb-4"},_t={class:"text-gray-600 mb-4"},kt={class:"mb-4"},Ct={class:"flex space-x-3"},qt={__name:"index",setup(At){G();const B=Y(),y=te(),A=H(),i=_({status:"",type:"",search:""}),n=_({show:!1,application:null,reason:""}),m=_({show:!1,mode:"create",item:null,application:null});X(()=>{y.initializeApplications()});const x=b(()=>{var o;return y.getUserApplications((o=B.user)==null?void 0:o.id)||[]}),v=b(()=>{const o=x.value;return{pending:o.filter(t=>t.status==="pending").length,underReview:o.filter(t=>t.status==="under_review").length,approved:o.filter(t=>t.status==="approved").length,rejected:o.filter(t=>t.status==="rejected").length,withdrawn:o.filter(t=>t.status==="withdrawn").length}}),L=b(()=>{const o=x.value,t=o.filter(c=>c.status==="approved"||c.status==="rejected").length;if(t===0)return 0;const d=o.filter(c=>c.status==="approved").length;return Math.round(d/t*100)}),j=b(()=>{let o=x.value;if(i.status&&(o=o.filter(t=>t.status===i.status)),i.type&&(o=o.filter(t=>t.type===i.type)),i.search){const t=i.search.toLowerCase();o=o.filter(d=>{var c,g,s;return((c=d.title)==null?void 0:c.toLowerCase().includes(t))||((g=d.organization)==null?void 0:g.toLowerCase().includes(t))||((s=d.description)==null?void 0:s.toLowerCase().includes(t))})}return o.sort((t,d)=>new Date(d.appliedAt)-new Date(t.appliedAt))}),q=o=>({pending:"bg-yellow-100 text-yellow-700",under_review:"bg-purple-100 text-purple-700",approved:"bg-green-100 text-green-700",rejected:"bg-red-100 text-red-700",withdrawn:"bg-gray-100 text-gray-700"})[o]||"bg-gray-100 text-gray-700",F=o=>({scholarship:"bg-blue-100 text-blue-700",offer:"bg-emerald-100 text-emerald-700"})[o]||"bg-gray-100 text-gray-700",P=o=>({pending:"Pending",under_review:"Under Review",approved:"Approved",rejected:"Rejected",withdrawn:"Withdrawn"})[o]||o,S=o=>o?new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",E=()=>{i.status="",i.type="",i.search=""},I=o=>{n.application=o,n.reason="",n.show=!0},D=()=>{y.withdrawApplication(n.application.id,n.reason)?A.addNotification({type:"success",title:"Application withdrawn",message:"Your application has been successfully withdrawn."}):A.addNotification({type:"error",title:"Withdrawal failed",message:"Unable to withdraw application. Please try again."}),n.show=!1},O=()=>{y.initializeApplications()};return(o,t)=>{const d=J("router-link");return u(),K(le,{"page-title":"Applications","page-subtitle":"manage all your applications","navigation-items":a(re)},{default:f(()=>{var c,g;return[e("div",me,[e("div",ge,[e("div",fe,[e("div",he,[t[11]||(t[11]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"My Applications"),e("p",{class:"text-sm text-gray-500"},"Track your scholarship and opportunity applications")],-1)),e("div",ye,[e("span",be,"Total: "+l(x.value.length),1)])])])]),e("div",we,[e("div",ve,[e("div",_e,[e("div",ke,[e("div",null,[t[12]||(t[12]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Applications",-1)),e("p",Ce,l(x.value.length),1)]),e("div",Ae,[r(a(W),{class:"w-6 h-6 text-blue-600"})])])]),e("div",je,[e("div",Se,[e("div",null,[t[13]||(t[13]=e("p",{class:"text-sm font-medium text-gray-600"},"Pending",-1)),e("p",De,l(v.value.pending),1)]),e("div",Re,[r(a(ae),{class:"w-6 h-6 text-yellow-600"})])])]),e("div",Ue,[e("div",$e,[e("div",null,[t[14]||(t[14]=e("p",{class:"text-sm font-medium text-gray-600"},"Under Review",-1)),e("p",Me,l(v.value.underReview),1)]),e("div",Ve,[r(a(z),{class:"w-6 h-6 text-purple-600"})])])]),e("div",Ne,[e("div",Te,[e("div",null,[t[15]||(t[15]=e("p",{class:"text-sm font-medium text-gray-600"},"Approved",-1)),e("p",We,l(v.value.approved),1)]),e("div",ze,[r(a(ie),{class:"w-6 h-6 text-green-600"})])])]),e("div",Be,[e("div",Le,[e("div",null,[t[16]||(t[16]=e("p",{class:"text-sm font-medium text-gray-600"},"Success Rate",-1)),e("p",qe,l(L.value)+"%",1)]),e("div",Fe,[r(a(de),{class:"w-6 h-6 text-coral-600"})])])])]),e("div",Pe,[e("div",Ee,[e("div",Ie,[e("div",Oe,[r(a(z),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),h(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>i.search=s),type:"text",placeholder:"Search applications...",class:"pl-10 pr-4 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-coral-500 focus:border-coral-500 w-full sm:w-64"},null,512),[[k,i.search]])]),h(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>i.status=s),class:"px-4 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-coral-500 focus:border-coral-500"},t[17]||(t[17]=[e("option",{value:""},"All Statuses",-1),e("option",{value:"pending"},"Pending",-1),e("option",{value:"under_review"},"Under Review",-1),e("option",{value:"approved"},"Approved",-1),e("option",{value:"rejected"},"Rejected",-1),e("option",{value:"withdrawn"},"Withdrawn",-1)]),512),[[N,i.status]]),h(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>i.type=s),class:"px-4 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-coral-500 focus:border-coral-500"},t[18]||(t[18]=[e("option",{value:""},"All Types",-1),e("option",{value:"scholarship"},"Scholarships",-1),e("option",{value:"offer"},"Opportunities",-1)]),512),[[N,i.type]])]),e("div",{class:"flex items-center space-x-3"},[e("button",{onClick:E,class:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors"}," Clear Filters ")])])]),j.value.length===0?(u(),p("div",Ge,[r(a(W),{class:"h-16 w-16 text-gray-300 mx-auto mb-4"}),t[21]||(t[21]=e("h3",{class:"text-xl font-semibold text-gray-900 mb-2"},"No applications found",-1)),e("p",Ye,l(x.value.length===0?"You haven't submitted any applications yet.":"No applications match your current filters."),1),x.value.length===0?(u(),p("div",He,[r(d,{to:"/student/scholarships",class:"bg-coral-500 text-white px-6 py-3 rounded-lg hover:bg-coral-600 transition-colors duration-200 inline-flex items-center space-x-2"},{default:f(()=>[r(a(oe),{class:"h-5 w-5"}),t[19]||(t[19]=e("span",null,"Browse Scholarships",-1))]),_:1,__:[19]}),r(d,{to:"/student/offers",class:"bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition-colors duration-200 inline-flex items-center space-x-2"},{default:f(()=>[r(a(ce),{class:"h-5 w-5"}),t[20]||(t[20]=e("span",null,"Browse Opportunities",-1))]),_:1,__:[20]})])):w("",!0)])):(u(),p("div",Xe,[(u(!0),p(Q,null,Z(j.value,s=>{var R,U,$,M,V;return u(),p("div",{key:s.id,class:"bg-white rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200"},[e("div",Je,[e("div",Ke,[e("div",Qe,[e("div",Ze,[e("h3",et,l(s.title),1),e("span",{class:T([q(s.status),"px-3 py-1 rounded-full text-xs font-medium"])},l(P(s.status)),3),e("span",{class:T([F(s.type),"px-2 py-1 rounded-full text-xs font-medium"])},l(s.type==="scholarship"?"Scholarship":"Opportunity"),3)]),e("p",tt,l(s.organization),1),e("p",st,l(s.description),1)]),e("div",ot,[e("p",rt,"â‚¦"+l(((R=s.amount)==null?void 0:R.toLocaleString())||0),1),t[22]||(t[22]=e("p",{class:"text-sm text-gray-500"},"Award Amount",-1))])]),e("div",lt,[e("div",nt,[e("span",null,"Documents: "+l(((U=s.submittedDocuments)==null?void 0:U.length)||0)+"/"+l((($=s.requirements)==null?void 0:$.length)||0),1),e("span",null,"Deadline: "+l(S(s.deadline)),1)]),e("div",at,[e("div",{class:"bg-coral-500 h-2 rounded-full transition-all duration-300",style:ee({width:Math.min((((M=s.submittedDocuments)==null?void 0:M.length)||0)/(((V=s.requirements)==null?void 0:V.length)||1)*100,100)+"%"})},null,4)])]),e("div",it,[e("div",dt,[r(a(ue),{class:"h-4 w-4"}),e("span",null,"Applied "+l(S(s.appliedAt)),1)]),e("div",ct,[r(d,{to:`/student/applications/${s.id}`,class:"px-4 py-2 text-coral-600 hover:bg-coral-50 rounded-lg transition-colors duration-200 flex items-center space-x-1"},{default:f(()=>[r(a(pe),{class:"h-4 w-4"}),t[23]||(t[23]=e("span",null,"View Details",-1))]),_:2,__:[23]},1032,["to"]),s.status==="pending"||s.status==="under_review"?(u(),p("button",{key:0,onClick:jt=>I(s),class:"px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 flex items-center space-x-1"},[r(a(C),{class:"h-4 w-4"}),t[24]||(t[24]=e("span",null,"Withdraw",-1))],8,ut)):w("",!0),r(d,{to:s.type==="scholarship"?`/student/scholarships/${s.itemId}`:`/student/offers/${s.itemId}`,class:"px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors duration-200 flex items-center space-x-1"},{default:f(()=>[r(a(xe),{class:"h-4 w-4"}),e("span",null,"View "+l(s.type==="scholarship"?"Scholarship":"Opportunity"),1)]),_:2},1032,["to"])])])])])}),128))]))]),n.show?(u(),p("div",pt,[e("div",xt,[e("div",mt,[t[25]||(t[25]=e("h3",{class:"text-xl font-bold text-gray-900"},"Withdraw Application",-1)),e("button",{onClick:t[3]||(t[3]=s=>n.show=!1),class:"text-gray-400 hover:text-gray-600"},[r(a(C),{class:"h-6 w-6"})])]),e("p",gt,'Are you sure you want to withdraw your application for "'+l((c=n.application)==null?void 0:c.title)+'"? This action cannot be undone.',1),e("div",ft,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Reason for withdrawal (optional)",-1)),h(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=s=>n.reason=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-coral-500 focus:border-coral-500",placeholder:"Please provide a reason for withdrawing..."},null,512),[[k,n.reason]])]),e("div",ht,[e("button",{onClick:t[5]||(t[5]=s=>n.show=!1),class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors"}," Cancel "),e("button",{onClick:D,class:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-colors"}," Withdraw Application ")])])])):w("",!0)]),r(ne,{"is-open":m.show,mode:m.mode,item:m.item,application:m.application,onClose:t[6]||(t[6]=s=>m.show=!1),onSuccess:O},null,8,["is-open","mode","item","application"]),n.show?(u(),p("div",yt,[e("div",bt,[e("div",{class:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t[7]||(t[7]=s=>n.show=!1)}),e("div",wt,[e("div",vt,[t[27]||(t[27]=e("h3",{class:"text-lg font-bold text-gray-900"},"Withdraw Application",-1)),e("button",{onClick:t[8]||(t[8]=s=>n.show=!1),class:"text-gray-400 hover:text-gray-600"},[r(a(C),{class:"w-5 h-5"})])]),e("p",_t,'Are you sure you want to withdraw your application for "'+l((g=n.application)==null?void 0:g.title)+'"?',1),e("div",kt,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Reason for withdrawal (optional)",-1)),h(e("textarea",{"onUpdate:modelValue":t[9]||(t[9]=s=>n.reason=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-coral-500 focus:border-coral-500",placeholder:"Please provide a reason..."},null,512),[[k,n.reason]])]),e("div",Ct,[e("button",{onClick:t[10]||(t[10]=s=>n.show=!1),class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"}," Cancel "),e("button",{onClick:D,class:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors"}," Withdraw ")])])])])):w("",!0)]}),_:1},8,["navigation-items"])}}};export{qt as default};
