import{s as $,u as U,b as q,x as S,r as E,d as z,e as m,f as G,g as H,o as c,h as C,a as e,j as a,t as r,c as p,l as d,m as _,v as Y,p as k,n as M,i as g,F as I,q as J,y as K}from"./index-CXEPaLLm.js";import{u as Q}from"./offers-DDnHsAj8.js";import{u as W}from"./applications-i8ziy2bG.js";import{S as N,_ as X}from"./StudentSidebar-UotSKljk.js";import{_ as Z}from"./ApplicationModal-np25LOSV.js";import{B as R}from"./briefcase-DIvi3roL.js";import{T as ee,S as te}from"./target-6zfbyDA2.js";import{D as se}from"./dollar-sign-D6FaEYyD.js";import{T as oe}from"./trending-up-BB9Tn0gU.js";import{C as re}from"./calendar-CZsrq4KF.js";import{E as ne}from"./eye-Cp51sz7o.js";import"./x-BPlPAr5W.js";import"./upload-Cc4nevQT.js";const le={class:"min-h-screen bg-gray-50"},ae={class:"bg-white border-b border-gray-200"},ie={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},ce={class:"flex items-center justify-between h-16"},de={class:"flex items-center space-x-4"},ue={class:"text-sm text-gray-600"},pe={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},me={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},xe={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},ge={class:"flex items-center justify-between"},he={class:"text-3xl font-bold text-gray-900 mt-2"},be={class:"p-3 bg-blue-100 rounded-xl"},fe={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},ve={class:"flex items-center justify-between"},_e={class:"text-3xl font-bold text-gray-900 mt-2"},ye={class:"p-3 bg-green-100 rounded-xl"},we={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},Ae={class:"flex items-center justify-between"},Se={class:"text-3xl font-bold text-gray-900 mt-2"},Ce={class:"p-3 bg-purple-100 rounded-xl"},ke={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},Me={class:"flex items-center justify-between"},Ne={class:"text-3xl font-bold text-gray-900 mt-2"},Re={class:"p-3 bg-coral-100 rounded-xl"},Be={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mb-8"},Oe={class:"flex flex-col space-y-4"},Pe={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0"},De={class:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 flex-1"},Le={class:"relative"},je={class:"flex items-center space-x-3"},Fe={key:0,class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-12 text-center"},Te={class:"text-gray-600 mb-6"},Ve={key:1,class:"grid gap-6"},$e={class:"p-6"},Ue={class:"flex items-start justify-between mb-4"},qe={class:"flex-1"},Ee={class:"flex items-center space-x-3 mb-2"},ze={class:"text-xl font-semibold text-gray-900"},Ge={key:0,class:"bg-green-100 text-green-700 text-xs px-2 py-1 rounded-full font-medium"},He={class:"flex items-center space-x-2 mb-2"},Ye=["src","alt"],Ie={class:"text-gray-600"},Je={class:"text-gray-700 line-clamp-2"},Ke={class:"text-right ml-6"},Qe={class:"text-2xl font-bold text-coral-600"},We={class:"mb-4"},Xe={class:"flex items-center justify-between text-sm text-gray-600 mb-2"},Ze={class:"w-full bg-gray-200 rounded-full h-2"},et={class:"flex flex-wrap gap-2 mb-4"},tt={key:0,class:"bg-blue-100 text-blue-700 text-xs px-2 py-1 rounded-full"},st={key:1,class:"bg-purple-100 text-purple-700 text-xs px-2 py-1 rounded-full"},ot={key:2,class:"bg-orange-100 text-orange-700 text-xs px-2 py-1 rounded-full"},rt={class:"bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded-full"},nt={class:"flex items-center justify-between pt-4 border-t border-gray-100"},lt={class:"flex items-center space-x-2 text-sm text-gray-500"},at={class:"flex items-center space-x-2"},it=["onClick"],At={__name:"index_new",setup(ct){$(),U();const h=Q();W();const B=q(),l=S({search:"",amountRange:"",course:""}),u=E(!1),i=S({show:!1,mode:"create",offer:null,application:null});z(()=>{h.initializeOffers()});const O=m(()=>({school:"University of Lagos",course:"Computer Science",level:"400 Level",gpa:4.2,gender:"male",state:"Lagos",age:22})),x=m(()=>h.getOffers),b=m(()=>h.getMatchingOffers(O.value)),y=m(()=>x.value.reduce((o,t)=>o+t.amount,0)),P=m(()=>x.value.length===0?0:Math.round(y.value/x.value.length)),f=m(()=>{let o=u.value?b.value:x.value;if(l.search){const t=l.search.toLowerCase();o=o.filter(n=>{var s,v,A;return((s=n.title)==null?void 0:s.toLowerCase().includes(t))||((v=n.sponsorName)==null?void 0:v.toLowerCase().includes(t))||((A=n.description)==null?void 0:A.toLowerCase().includes(t))})}return l.amountRange&&(o=o.filter(t=>{const n=t.amount;switch(l.amountRange){case"0-100000":return n<=1e5;case"100000-200000":return n>1e5&&n<=2e5;case"200000-300000":return n>2e5&&n<=3e5;case"300000+":return n>3e5;default:return!0}})),l.course&&(o=o.filter(t=>{var n,s;return((n=t.criteria.courses)==null?void 0:n.includes(l.course))||((s=t.criteria.courses)==null?void 0:s.length)===0})),o.sort((t,n)=>new Date(n.createdAt)-new Date(t.createdAt))}),D=o=>b.value.some(t=>t.id===o.id),L=o=>({merit_based:"bg-blue-100 text-blue-700",holistic:"bg-purple-100 text-purple-700",research_based:"bg-green-100 text-green-700",portfolio_based:"bg-orange-100 text-orange-700"})[o]||"bg-gray-100 text-gray-700",j=o=>({merit_based:"Merit Based",holistic:"Holistic Review",research_based:"Research Based",portfolio_based:"Portfolio Based"})[o]||o,w=o=>o?new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",F=()=>{l.search="",l.amountRange="",l.course="",u.value=!1},T=o=>{i.offer=o,i.mode="create",i.application=null,i.show=!0},V=()=>{i.show=!1,B.addNotification({type:"success",title:"Application submitted",message:"Your application has been submitted successfully!"})};return(o,t)=>{const n=G("router-link");return c(),H(X,null,{default:C(()=>[e("div",le,[e("div",ae,[e("div",ie,[e("div",ce,[t[6]||(t[6]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"Browse Opportunities"),e("p",{class:"text-sm text-gray-500"},"Discover funding opportunities that match your profile")],-1)),e("div",de,[e("span",ue,r(f.value.length)+" opportunities available",1)])])])]),e("div",pe,[e("div",me,[e("div",xe,[e("div",ge,[e("div",null,[t[7]||(t[7]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Offers",-1)),e("p",he,r(x.value.length),1)]),e("div",be,[a(d(R),{class:"w-6 h-6 text-blue-600"})])])]),e("div",fe,[e("div",ve,[e("div",null,[t[8]||(t[8]=e("p",{class:"text-sm font-medium text-gray-600"},"Perfect Matches",-1)),e("p",_e,r(b.value.length),1)]),e("div",ye,[a(d(ee),{class:"w-6 h-6 text-green-600"})])])]),e("div",we,[e("div",Ae,[e("div",null,[t[9]||(t[9]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Funding",-1)),e("p",Se,"₦"+r(y.value.toLocaleString()),1)]),e("div",Ce,[a(d(se),{class:"w-6 h-6 text-purple-600"})])])]),e("div",ke,[e("div",Me,[e("div",null,[t[10]||(t[10]=e("p",{class:"text-sm font-medium text-gray-600"},"Avg. Amount",-1)),e("p",Ne,"₦"+r(P.value.toLocaleString()),1)]),e("div",Re,[a(d(oe),{class:"w-6 h-6 text-coral-600"})])])])]),e("div",Be,[e("div",Oe,[e("div",Pe,[e("div",De,[e("div",Le,[a(d(N),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),_(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.search=s),type:"text",placeholder:"Search opportunities...",class:"pl-10 pr-4 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-coral-500 focus:border-coral-500 w-full sm:w-64"},null,512),[[Y,l.search]])]),_(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>l.amountRange=s),class:"px-4 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-coral-500 focus:border-coral-500"},t[11]||(t[11]=[e("option",{value:""},"Any Amount",-1),e("option",{value:"0-100000"},"₦0 - ₦100,000",-1),e("option",{value:"100000-200000"},"₦100,000 - ₦200,000",-1),e("option",{value:"200000-300000"},"₦200,000 - ₦300,000",-1),e("option",{value:"300000+"},"₦300,000+",-1)]),512),[[k,l.amountRange]]),_(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>l.course=s),class:"px-4 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-coral-500 focus:border-coral-500"},t[12]||(t[12]=[e("option",{value:""},"All Courses",-1),e("option",{value:"Computer Science"},"Computer Science",-1),e("option",{value:"Engineering"},"Engineering",-1),e("option",{value:"Medicine"},"Medicine",-1),e("option",{value:"Business Administration"},"Business",-1),e("option",{value:"Agriculture"},"Agriculture",-1),e("option",{value:"Fine Arts"},"Arts",-1)]),512),[[k,l.course]])]),e("div",je,[e("button",{onClick:t[3]||(t[3]=s=>u.value=!u.value),class:M(["px-4 py-2 rounded-xl transition-colors",u.value?"bg-coral-500 text-white":"border border-gray-300 text-gray-700 hover:bg-gray-50"])},r(u.value?"Show All":"Perfect Matches Only"),3),e("button",{onClick:F,class:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors"}," Clear Filters ")])])])]),f.value.length===0?(c(),p("div",Fe,[a(d(R),{class:"h-16 w-16 text-gray-300 mx-auto mb-4"}),t[14]||(t[14]=e("h3",{class:"text-xl font-semibold text-gray-900 mb-2"},"No opportunities found",-1)),e("p",Te,r(u.value?"No opportunities match your profile. Try browsing all opportunities.":"No opportunities match your current filters."),1),u.value?(c(),p("button",{key:0,onClick:t[4]||(t[4]=s=>u.value=!1),class:"bg-coral-500 text-white px-6 py-3 rounded-lg hover:bg-coral-600 transition-colors duration-200 inline-flex items-center space-x-2"},[a(d(N),{class:"h-5 w-5"}),t[13]||(t[13]=e("span",null,"Browse All Opportunities",-1))])):g("",!0)])):(c(),p("div",Ve,[(c(!0),p(I,null,J(f.value,s=>(c(),p("div",{key:s.id,class:"bg-white rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200"},[e("div",$e,[e("div",Ue,[e("div",qe,[e("div",Ee,[e("h3",ze,r(s.title),1),D(s)?(c(),p("span",Ge," Perfect Match ")):g("",!0),e("span",{class:M([L(s.selectionProcess),"px-2 py-1 rounded-full text-xs font-medium"])},r(j(s.selectionProcess)),3)]),e("div",He,[e("img",{src:s.sponsorAvatar,alt:s.sponsorName,class:"w-6 h-6 rounded-full border border-gray-200"},null,8,Ye),e("span",Ie,r(s.sponsorName),1)]),e("p",Je,r(s.description),1)]),e("div",Ke,[e("p",Qe,"₦"+r(s.amount.toLocaleString()),1),t[15]||(t[15]=e("p",{class:"text-sm text-gray-500"},"per recipient",-1))])]),e("div",We,[e("div",Xe,[e("span",null,"Recipients: "+r(s.currentRecipients)+"/"+r(s.maxRecipients),1),e("span",null,"Deadline: "+r(w(s.deadline)),1)]),e("div",Ze,[e("div",{class:"bg-coral-500 h-2 rounded-full transition-all duration-300",style:K({width:s.currentRecipients/s.maxRecipients*100+"%"})},null,4)])]),e("div",et,[s.criteria.minGPA?(c(),p("span",tt," Min GPA: "+r(s.criteria.minGPA),1)):g("",!0),s.criteria.gender!=="any"?(c(),p("span",st,r(s.criteria.gender)+" only ",1)):g("",!0),s.criteria.financialNeed?(c(),p("span",ot," Financial need required ")):g("",!0),e("span",rt,r(s.requirements.length)+" requirements ",1)]),e("div",nt,[e("div",lt,[a(d(re),{class:"h-4 w-4"}),e("span",null,"Posted "+r(w(s.createdAt)),1)]),e("div",at,[a(n,{to:`/student/offers/${s.id}`,class:"px-4 py-2 text-coral-600 hover:bg-coral-50 rounded-lg transition-colors duration-200 flex items-center space-x-1"},{default:C(()=>[a(d(ne),{class:"h-4 w-4"}),t[16]||(t[16]=e("span",null,"View Details",-1))]),_:2,__:[16]},1032,["to"]),e("button",{onClick:v=>T(s),class:"px-4 py-2 bg-coral-500 text-white rounded-lg hover:bg-coral-600 transition-colors duration-200 flex items-center space-x-1"},[a(d(te),{class:"h-4 w-4"}),t[17]||(t[17]=e("span",null,"Apply Now",-1))],8,it)])])])]))),128))]))])]),a(Z,{"is-open":i.show,mode:i.mode,item:i.offer,application:i.application,onClose:t[5]||(t[5]=s=>i.show=!1),onSuccess:V},null,8,["is-open","mode","item","application"])]),_:1})}}};export{At as default};
