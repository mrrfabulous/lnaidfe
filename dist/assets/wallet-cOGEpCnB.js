import{N as l}from"./index-EqsJQukp.js";const c={id:1,balance:5e4,currency:"USD",lastFunded:"2025-09-10T15:30:00Z",status:"active",transactions:[{id:1,type:"credit",amount:25e3,description:"Wallet funding via bank transfer",status:"completed",reference:"WF-2025091001",createdAt:"2025-09-10T15:30:00Z",updatedAt:"2025-09-10T15:35:00Z"},{id:2,type:"debit",amount:5e3,description:"Scholarship disbursement to John Smith",status:"completed",reference:"DS-2025091002",metadata:{disbursementId:1,beneficiaryId:101,scholarshipId:3},createdAt:"2025-09-11T10:00:00Z",updatedAt:"2025-09-11T10:05:00Z"},{id:3,type:"credit",amount:3e4,description:"Wallet funding via bank transfer",status:"completed",reference:"WF-2025091003",createdAt:"2025-09-12T14:20:00Z",updatedAt:"2025-09-12T14:25:00Z"}]},d=l("wallet",{state:()=>({wallet:null,loading:!1,error:null}),getters:{balance:e=>{var t;return((t=e.wallet)==null?void 0:t.balance)??0},currency:e=>{var t;return((t=e.wallet)==null?void 0:t.currency)??"USD"},recentTransactions:e=>{var t;return((t=e.wallet)==null?void 0:t.transactions.slice(0,5))??[]},allTransactions:e=>{var t;return((t=e.wallet)==null?void 0:t.transactions)??[]}},actions:{async fetchWallet(){this.loading=!0;try{this.wallet=c}catch(e){this.error=e.message}finally{this.loading=!1}},async fundWallet(e){this.loading=!0;try{if(!this.wallet)throw new Error("Wallet not initialized");const t={id:Math.max(...this.wallet.transactions.map(r=>r.id))+1,type:"credit",amount:e,description:"Wallet funding via bank transfer",status:"completed",reference:`WF-${Date.now()}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return this.wallet.transactions.unshift(t),this.wallet.balance+=e,this.wallet.lastFunded=new Date().toISOString(),t}catch(t){throw this.error=t.message,t}finally{this.loading=!1}},async transferToBeneficiary(e,t,r,n,i){this.loading=!0;try{if(!this.wallet)throw new Error("Wallet not initialized");if(this.wallet.balance<e)throw new Error("Insufficient funds");const a={id:Math.max(...this.wallet.transactions.map(s=>s.id))+1,type:"debit",amount:e,description:n,status:"completed",reference:`DS-${Date.now()}`,metadata:{disbursementId:t,beneficiaryId:r,...i},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return this.wallet.transactions.unshift(a),this.wallet.balance-=e,a}catch(a){throw this.error=a.message,a}finally{this.loading=!1}}}});export{d as u};
