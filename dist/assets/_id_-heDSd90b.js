import{s as Z,a as ee,r as k,o as Y,c,b as te,d as R,e as l,f as M,p as a,g as e,i as f,j as L,h as n,t as i,k as S,F as p,q as m,n as g}from"./index-EqsJQukp.js";import{u as se}from"./scholarships-BZkcYeM6.js";import{u as oe,s as le,_ as ae}from"./navItems-BcGEYHfz.js";import{_ as ie}from"./ApplicationModal-kxLG78Mn.js";import{r as V}from"./AcademicCapIcon-BKq_YgFd.js";import{r as re}from"./ClockIcon-CI-NDIwb.js";import"./authHeader-DkpUnqMe.js";import"./applications-CVJmNFuW.js";import"./x-c6Y77DFi.js";import"./upload-C3RSQhGF.js";import"./circle-check-big-BfLp0Q0m.js";const ne={key:0,class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},de={class:"text-center"},ue={key:1,class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},ce={class:"mb-8"},he={class:"flex items-center space-x-2 text-sm text-gray-600 mb-4"},pe={class:"text-gray-900"},me={class:"flex justify-between items-start"},ge={class:"text-3xl font-bold text-gray-900 mb-2"},ve={class:"flex items-center space-x-4 flex-wrap"},xe={class:"flex items-center space-x-2"},ye={class:"text-gray-600"},fe={key:0,class:"bg-green-100 text-green-700 text-sm px-3 py-1 rounded-full font-medium"},be={key:1,class:"bg-red-100 text-red-700 text-sm px-3 py-1 rounded-full font-medium"},_e={key:2,class:"bg-blue-100 text-blue-700 text-sm px-3 py-1 rounded-full font-medium"},we={class:"text-right"},ke={class:"text-4xl font-bold text-blue-600"},Se={class:"text-gray-600"},De={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Te={class:"lg:col-span-2 space-y-8"},Ae={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},Ce={class:"text-gray-700 leading-relaxed"},Ne={key:0,class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},Pe={class:"space-y-2"},Me={class:"text-gray-700"},Le={key:1,class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},je={class:"space-y-2"},Be={class:"text-gray-700"},Ee={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},Oe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ge={key:0},$e={class:"space-y-1"},Fe={key:1},Ie={class:"space-y-1"},Ye={key:2},Re={class:"space-y-1"},Ve={key:3},qe={class:"text-gray-600 text-sm"},ze={key:2,class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},Je={class:"space-y-4"},Ue={class:"flex-shrink-0 w-8 h-8 bg-blue-100 text-blue-700 rounded-full flex items-center justify-center font-bold text-sm"},We={class:"font-medium text-gray-900"},He={class:"text-gray-600 text-sm"},Ke={class:"text-xs text-gray-500 mt-1"},Qe={class:"space-y-6"},Xe={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 sticky top-6"},Ze={class:"text-center mb-6"},et={class:"text-3xl font-bold text-blue-600"},tt={class:"text-gray-600"},st={class:"mb-6"},ot={class:"flex justify-between text-sm text-gray-600 mb-2"},lt={class:"mb-6 p-4 bg-gray-50 rounded-xl"},at={class:"flex items-center text-sm text-gray-600"},it={class:"font-semibold text-gray-900 mt-1"},rt={class:"text-sm text-gray-600 mt-1"},nt={class:"mb-6"},dt={class:"flex items-center justify-between mb-3"},ut={class:"space-y-2 text-sm"},ct={key:0,class:"flex items-center justify-between"},ht={key:1,class:"flex items-center justify-between"},pt={key:2,class:"flex items-center justify-between"},mt={key:3,class:"flex items-center justify-between"},gt={class:"space-y-3"},vt=["disabled"],xt={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},yt={class:"flex items-center space-x-3 mb-4"},Mt={__name:"[id]",setup(ft){const q=Z(),j=se(),z=oe(),v=ee(),s=k(null),J=k(!0),b=k(!1),h=k([]);Y(()=>{const o=localStorage.getItem("saved_scholarships");h.value=o?JSON.parse(o):[]}),Y(async()=>{try{const o=await j.getScholarships();if(o.success){const t=o.data.find(d=>d._id===q.params.id);s.value=t||null}}catch(o){console.error("Error loading scholarship:",o),v.addNotification({type:"error",title:"Error",message:"Could not load scholarship details."})}finally{J.value=!1}});const _=c(()=>z.profile||{}),D=c(()=>{var o,t;return(t=(o=s.value)==null?void 0:o.scholarshipTargetSchool)!=null&&t.length?s.value.scholarshipTargetSchool.includes(_.value.instituteName):!0}),T=c(()=>{var o,t;return(t=(o=s.value)==null?void 0:o.scholarshipTargetCourse)!=null&&t.length?s.value.scholarshipTargetCourse.includes(_.value.courseOfStudy):!0}),A=c(()=>{var o,t;return(t=(o=s.value)==null?void 0:o.scholarshipTargetLevel)!=null&&t.length?s.value.scholarshipTargetLevel.includes(_.value.level):!0}),C=c(()=>{var o;return(o=s.value)!=null&&o.scholarshipTargetGPA?(_.value.gpa||0)>=s.value.scholarshipTargetGPA:!0}),x=c(()=>D.value&&T.value&&A.value&&C.value),w=c(()=>{var o;return new Date((o=s.value)==null?void 0:o.scholarshipDeadline)<new Date}),U=c(()=>{var d;const o=new Date((d=s.value)==null?void 0:d.scholarshipDeadline),t=new Date(Date.now()+7*24*60*60*1e3);return o<=t&&!w.value}),W=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),B=o=>{const t=new Date(o),d=new Date,u=t.getFullYear()-d.getFullYear();if(u>=1)return`${u} year(s)`;const y=t.getMonth()-d.getMonth()+u*12;return y>=1?`${y} month(s)`:`${Math.ceil((t-d)/(1e3*60*60*24))} day(s)`},H=o=>{const t=new Date(o),u=Math.ceil((t-new Date)/(1e3*60*60*24));return u<0?"Deadline passed":u===0?"Due today":u===1?"1 day remaining":`${u} days remaining`},E=c(()=>{var o;return h.value.includes((o=s.value)==null?void 0:o._id)}),K=()=>{if(!s.value)return;const o=s.value._id,t=h.value.indexOf(o);t>-1?(h.value.splice(t,1),v.addNotification({type:"info",title:"Removed",message:"Scholarship removed from saved list."})):(h.value.push(o),v.addNotification({type:"success",title:"Saved",message:"Scholarship saved for later."})),localStorage.setItem("saved_scholarships",JSON.stringify(h.value))},Q=()=>{x.value&&!w.value&&(b.value=!0)},O=()=>{b.value=!1},X=async o=>{try{await j.submitApplication(s.value._id,o),v.addNotification({type:"success",title:"Applied!",message:`Your application for "${s.value.scholarshipTitle}" was submitted.`}),O()}catch{v.addNotification({type:"error",title:"Failed",message:"Could not submit application. Please try again."})}};return(o,t)=>{const d=te("router-link");return l(),R(ae,{"page-title":"Scholarship Details","page-subtitle":"","navigation-items":S(le)},{default:M(()=>{var u,y,N,G,$,F,I;return[s.value?(l(),a("div",ue,[e("div",ce,[e("nav",he,[f(d,{to:"/student/scholarships",class:"hover:text-blue-600"},{default:M(()=>t[3]||(t[3]=[L(" Browse Scholarships ")])),_:1,__:[3]}),t[4]||(t[4]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)),e("span",pe,i(s.value.scholarshipTitle),1)]),e("div",me,[e("div",null,[e("h1",ge,i(s.value.scholarshipTitle),1),e("div",ve,[e("div",xe,[f(S(V),{class:"w-5 h-5 text-gray-500"}),e("span",ye," by "+i(((u=s.value.sponsorId)==null?void 0:u.email)||"Anonymous Sponsor"),1)]),x.value?(l(),a("span",fe," Perfect Match ")):n("",!0),U.value?(l(),a("span",be," Ending Soon ")):n("",!0),s.value.isActive?(l(),a("span",_e," Active ")):n("",!0)])]),e("div",we,[e("div",ke," ₦"+i(s.value.scholarshipAmountPerStudent.toLocaleString()),1),e("div",Se,i(B(s.value.scholarshipDuration)),1)])])]),e("div",De,[e("div",Te,[e("div",Ae,[t[5]||(t[5]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-4"}," About This Scholarship ",-1)),e("p",Ce,i(s.value.scholarshipDescription),1)]),(y=s.value.scholarshipBenefits)!=null&&y.length?(l(),a("div",Ne,[t[7]||(t[7]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-4"}," Scholarship Benefits ",-1)),e("ul",Pe,[(l(!0),a(p,null,m(s.value.scholarshipBenefits,(r,P)=>(l(),a("li",{key:P,class:"flex items-start"},[t[6]||(t[6]=e("svg",{class:"w-5 h-5 text-green-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),e("span",Me,i(r),1)]))),128))])])):n("",!0),(N=s.value.scholarshipObligations)!=null&&N.length?(l(),a("div",Le,[t[9]||(t[9]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-4"}," Scholarship Obligations ",-1)),e("ul",je,[(l(!0),a(p,null,m(s.value.scholarshipObligations,(r,P)=>(l(),a("li",{key:P,class:"flex items-start"},[t[8]||(t[8]=e("svg",{class:"w-5 h-5 text-yellow-500 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})],-1)),e("span",Be,i(r),1)]))),128))])])):n("",!0),e("div",Ee,[t[14]||(t[14]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-4"}," Eligibility Criteria ",-1)),e("div",Oe,[(G=s.value.scholarshipTargetSchool)!=null&&G.length?(l(),a("div",Ge,[t[10]||(t[10]=e("h3",{class:"font-medium text-gray-900 mb-2"},"Eligible Schools",-1)),e("ul",$e,[(l(!0),a(p,null,m(s.value.scholarshipTargetSchool,r=>(l(),a("li",{key:r,class:"text-gray-600 text-sm"}," • "+i(r),1))),128))])])):n("",!0),($=s.value.scholarshipTargetCourse)!=null&&$.length?(l(),a("div",Fe,[t[11]||(t[11]=e("h3",{class:"font-medium text-gray-900 mb-2"},"Eligible Courses",-1)),e("ul",Ie,[(l(!0),a(p,null,m(s.value.scholarshipTargetCourse,r=>(l(),a("li",{key:r,class:"text-gray-600 text-sm"}," • "+i(r),1))),128))])])):n("",!0),(F=s.value.scholarshipTargetLevel)!=null&&F.length?(l(),a("div",Ye,[t[12]||(t[12]=e("h3",{class:"font-medium text-gray-900 mb-2"},"Academic Levels",-1)),e("ul",Re,[(l(!0),a(p,null,m(s.value.scholarshipTargetLevel,r=>(l(),a("li",{key:r,class:"text-gray-600 text-sm"}," • "+i(r)+" Level ",1))),128))])])):n("",!0),s.value.scholarshipTargetGPA?(l(),a("div",Ve,[t[13]||(t[13]=e("h3",{class:"font-medium text-gray-900 mb-2"},"GPA Requirement",-1)),e("p",qe," Minimum GPA: "+i(s.value.scholarshipTargetGPA),1)])):n("",!0)])]),(I=s.value.applicationProcess)!=null&&I.length?(l(),a("div",ze,[t[15]||(t[15]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-4"}," Application Process ",-1)),e("ol",Je,[(l(!0),a(p,null,m(s.value.applicationProcess,r=>(l(),a("li",{key:r._id,class:"flex items-start space-x-4"},[e("div",Ue,i(r.stepNumber),1),e("div",null,[e("h3",We,i(r.stepTitle),1),e("p",He,i(r.description),1),e("p",Ke," Duration: "+i(r.duration),1)])]))),128))])])):n("",!0)]),e("div",Qe,[e("div",Xe,[e("div",Ze,[e("div",et," ₦"+i(s.value.scholarshipAmountPerStudent.toLocaleString()),1),e("div",tt,i(B(s.value.scholarshipDuration)),1)]),e("div",st,[e("div",ot,[t[16]||(t[16]=e("span",null,"Awards Available",-1)),e("span",null,i(s.value.scholarshipNumberOfAwards),1)]),t[17]||(t[17]=e("div",{class:"w-full bg-gray-200 rounded-full h-3"},[e("div",{class:"bg-blue-500 h-3 rounded-full",style:{width:"20%"}})],-1)),t[18]||(t[18]=e("div",{class:"text-center text-sm text-gray-600 mt-2"}," Limited awards available ",-1))]),e("div",lt,[e("div",at,[f(S(re),{class:"w-4 h-4 mr-2"}),t[19]||(t[19]=L(" Application Deadline "))]),e("div",it,i(W(s.value.scholarshipDeadline)),1),e("div",rt,i(H(s.value.scholarshipDeadline)),1)]),e("div",nt,[e("div",dt,[t[20]||(t[20]=e("span",{class:"font-medium text-gray-900"},"Your Fit",-1)),e("span",{class:g(["text-sm px-2 py-1 rounded-full",x.value?"bg-green-100 text-green-700":"bg-red-100 text-red-700"])},i(x.value?"Eligible":"Not Eligible"),3)]),e("div",ut,[s.value.scholarshipTargetSchool?(l(),a("div",ct,[t[21]||(t[21]=e("span",{class:"text-gray-600"},"School",-1)),e("span",{class:g(D.value?"text-green-600":"text-red-600")},i(D.value?"✓":"✗"),3)])):n("",!0),s.value.scholarshipTargetCourse?(l(),a("div",ht,[t[22]||(t[22]=e("span",{class:"text-gray-600"},"Course",-1)),e("span",{class:g(T.value?"text-green-600":"text-red-600")},i(T.value?"✓":"✗"),3)])):n("",!0),s.value.scholarshipTargetLevel?(l(),a("div",pt,[t[23]||(t[23]=e("span",{class:"text-gray-600"},"Level",-1)),e("span",{class:g(A.value?"text-green-600":"text-red-600")},i(A.value?"✓":"✗"),3)])):n("",!0),s.value.scholarshipTargetGPA?(l(),a("div",mt,[t[24]||(t[24]=e("span",{class:"text-gray-600"},"GPA",-1)),e("span",{class:g(C.value?"text-green-600":"text-red-600")},i(C.value?"✓":"✗"),3)])):n("",!0)])]),e("div",gt,[e("button",{onClick:Q,disabled:!x.value||w.value,class:"w-full bg-blue-600 text-white py-3 rounded-xl hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed font-medium"},i(w.value?"Deadline Passed":"Apply Now"),9,vt),e("button",{onClick:K,class:g(["w-full px-4 py-2 rounded-xl font-medium transition-colors",E.value?"bg-yellow-100 text-yellow-700":"border border-gray-300 text-gray-700"])},i(E.value?"Saved":"Save for Later"),3)])]),e("div",xt,[t[26]||(t[26]=e("h3",{class:"font-semibold text-gray-900 mb-4"}," Sponsor Information ",-1)),e("div",yt,[f(S(V),{class:"w-10 h-10 text-gray-400"}),t[25]||(t[25]=e("div",null,[e("h4",{class:"font-medium text-gray-900"},"Private Sponsor"),e("p",{class:"text-sm text-gray-600"},"Individual Contributor")],-1))]),t[27]||(t[27]=e("p",{class:"text-sm text-gray-600"}," This scholarship is sponsored through a private individual committed to supporting engineering students. ",-1))])])]),b.value?(l(),R(ie,{key:0,show:b.value,type:"scholarship",item:s.value,onClose:O,onSubmit:X},null,8,["show","item"])):n("",!0)])):(l(),a("div",ne,[e("div",de,[t[1]||(t[1]=e("h1",{class:"text-2xl font-bold text-gray-900"},"Scholarship not found",-1)),t[2]||(t[2]=e("p",{class:"text-gray-600 mt-2"}," The scholarship you're looking for doesn't exist or has been removed. ",-1)),f(d,{to:"/student/scholarships",class:"inline-block mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:M(()=>t[0]||(t[0]=[L(" Browse Other Scholarships ")])),_:1,__:[0]})])]))]}),_:1},8,["navigation-items"])}}};export{Mt as default};
