import{u as k,r as v,o as A,c,b as j,d as S,e as n,f as a,g as t,t as r,i as d,j as m,p as u,F as f,q as b,n as C,z as M,k as B}from"./index-EqsJQukp.js";import{u as V}from"./appeals-CM2mXlLj.js";import{u as z}from"./offers-CMuGKdpP.js";import{u as N,s as O,_ as L}from"./navItems-BcGEYHfz.js";import"./authHeader-DkpUnqMe.js";const R={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},q={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow duration-200"},F={class:"flex items-center justify-between"},H={class:"text-3xl font-bold text-gray-900 mt-2"},D={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow duration-200"},$={class:"flex items-center justify-between"},T={class:"text-3xl font-bold text-gray-900 mt-2"},E={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow duration-200"},I={class:"flex items-center justify-between"},P={class:"text-3xl font-bold text-gray-900 mt-2"},U={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow duration-200"},W={class:"flex items-center justify-between"},Y={class:"text-3xl font-bold text-gray-900 mt-2"},G={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},J={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},K={class:"bg-white rounded-2xl shadow-sm border border-gray-100"},Q={class:"p-6 border-b border-gray-100"},X={class:"flex justify-between items-center"},Z={class:"p-6"},tt={key:0,class:"text-center py-12"},et={key:1,class:"space-y-4"},st={class:"flex justify-between items-start mb-3"},ot={class:"font-semibold text-gray-900"},rt={class:"text-gray-600 text-sm mb-4"},lt={class:"flex justify-between items-center mb-3"},nt={class:"text-sm text-gray-500"},at={class:"text-sm font-medium text-coral-600"},it={class:"w-full bg-gray-200 rounded-full h-2 mb-4"},dt={class:"bg-white rounded-2xl shadow-sm border border-gray-100"},ut={class:"p-6 border-b border-gray-100"},ct={class:"flex justify-between items-center"},mt={class:"p-6"},xt={key:0,class:"text-center py-12"},pt={key:1,class:"space-y-4"},ht={class:"flex justify-between items-start mb-3"},gt={class:"font-semibold text-gray-900"},vt={class:"text-gray-600 text-sm mb-3"},ft={class:"flex justify-between items-center mb-4"},bt={class:"text-lg font-bold text-coral-600"},wt={class:"text-sm text-gray-500"},Ct={__name:"dashboard",setup(yt){const x=k(),w=V(),y=z(),_=N(),l=v({}),h=v(null);A(async()=>{try{const o=await _.getStudentStats();l.value=o.stats,h.value=o.id,console.log("Student stats:",l.value)}catch{console.log("Failed to get student stats")}}),c(()=>{var o;return((o=l.value)==null?void 0:o.pendingRequests)||0}),c(()=>{var o;return((o=l.value)==null?void 0:o.totalAmountReceived)||0}),c(()=>{var o;return((o=l.value)==null?void 0:o.totalRequests)||0}),c(()=>p.value.length);const g=c(()=>w.getUserAppeals(h.value)||[]),p=c(()=>{if(!x.user)return[];const o={school:x.user.school,course:x.user.course,level:x.user.level,gpa:3.5};return y.getMatchingOffers(o)});return(o,e)=>{const i=j("router-link");return n(),S(L,{"page-title":"Student Dashboard","page-subtitle":"Welcome back! Here's what's happening with your education funding.","navigation-items":B(O)},{default:a(()=>[t("div",R,[t("div",q,[t("div",F,[t("div",null,[e[0]||(e[0]=t("p",{class:"text-sm font-medium text-gray-600"},"Active Appeals",-1)),t("p",H,r(l.value.activeAppeals??0),1)]),e[1]||(e[1]=t("div",{class:"p-3 bg-blue-100 rounded-xl"},[t("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1))])]),t("div",D,[t("div",$,[t("div",null,[e[2]||(e[2]=t("p",{class:"text-sm font-medium text-gray-600"},"Total Raised",-1)),t("p",T," ₦"+r((l.value.totalRaised??0).toLocaleString()),1)]),e[3]||(e[3]=t("div",{class:"p-3 bg-green-100 rounded-xl"},[t("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1))])]),t("div",E,[t("div",I,[t("div",null,[e[4]||(e[4]=t("p",{class:"text-sm font-medium text-gray-600"},"Applications",-1)),t("p",P,r(l.value.applications),1)]),e[5]||(e[5]=t("div",{class:"p-3 bg-purple-100 rounded-xl"},[t("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})])],-1))])]),t("div",U,[t("div",W,[t("div",null,[e[6]||(e[6]=t("p",{class:"text-sm font-medium text-gray-600"},"Available Offers",-1)),t("p",Y,r(l.value.availableOffers??0),1)]),e[7]||(e[7]=t("div",{class:"p-3 bg-coral-100 rounded-xl"},[t("svg",{class:"w-6 h-6 text-coral-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1))])])]),t("div",G,[d(i,{to:"/student/appeals/create",class:"bg-primary rounded-2xl p-8 text-white hover:from-blue-600 hover:to-blue-700 transition-all duration-200 transform hover:-translate-y-1 hover:shadow-xl"},{default:a(()=>e[8]||(e[8]=[t("div",{class:"flex items-center"},[t("div",{class:"p-3 bg-white/20 rounded-xl mr-4"},[t("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])]),t("div",null,[t("h3",{class:"text-xl font-bold"},"Create Appeal"),t("p",{class:"text-blue-100 mt-1"},"Request funding for your needs")])],-1)])),_:1,__:[8]}),d(i,{to:"/student/offers",class:"bg-secondary rounded-2xl p-8 text-white hover:from-green-600 hover:to-green-700 transition-all duration-200 transform hover:-translate-y-1 hover:shadow-xl"},{default:a(()=>e[9]||(e[9]=[t("div",{class:"flex items-center"},[t("div",{class:"p-3 bg-white/20 rounded-xl mr-4"},[t("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])]),t("div",null,[t("h3",{class:"text-xl font-bold"},"Browse Offers"),t("p",{class:"text-green-100 mt-1"},"Find matching opportunities")])],-1)])),_:1,__:[9]}),d(i,{to:"/student/scholarships/apply",class:"bg-purple-700 to-purple-600 rounded-2xl p-8 text-white hover:from-purple-600 hover:to-purple-700 transition-all duration-200 transform hover:-translate-y-1 hover:shadow-xl"},{default:a(()=>e[10]||(e[10]=[t("div",{class:"flex items-center"},[t("div",{class:"p-3 bg-white/20 rounded-xl mr-4"},[t("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})])]),t("div",null,[t("h3",{class:"text-xl font-bold"},"Scholarships"),t("p",{class:"text-purple-200 mt-1"},"Apply for full scholarships")])],-1)])),_:1,__:[10]})]),t("div",J,[t("div",K,[t("div",Q,[t("div",X,[e[12]||(e[12]=t("h2",{class:"text-xl font-bold text-gray-900"},"Your Appeals",-1)),d(i,{to:"/student/appeals",class:"text-coral-500 hover:text-coral-600 font-medium"},{default:a(()=>e[11]||(e[11]=[m(" Create New ")])),_:1,__:[11]})])]),t("div",Z,[g.value.length===0?(n(),u("div",tt,[e[14]||(e[14]=t("div",{class:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4"},[t("svg",{class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e[15]||(e[15]=t("p",{class:"text-gray-500 mb-4"},"No appeals yet",-1)),d(i,{to:"/student/appeals/create",class:"text-coral-500 hover:text-coral-600 font-medium"},{default:a(()=>e[13]||(e[13]=[m(" Create your first appeal ")])),_:1,__:[13]})])):(n(),u("div",et,[(n(!0),u(f,null,b(g.value.slice(0,3),s=>(n(),u("div",{key:s.id,class:"border border-gray-100 rounded-xl p-4 hover:shadow-sm transition-shadow duration-200"},[t("div",st,[t("h3",ot,r(s.title),1),t("span",{class:C(["text-xs px-3 py-1 rounded-full font-medium",s.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"])},r(s.status),3)]),t("p",rt,r(s.description.substring(0,100))+"... ",1),t("div",lt,[t("span",nt,"₦"+r(s.raisedAmount.toLocaleString())+" of ₦"+r(s.targetAmount.toLocaleString()),1),t("span",at,r(Math.round(s.raisedAmount/s.targetAmount*100))+"%",1)]),t("div",it,[t("div",{class:"bg-coral-500 h-2 rounded-full transition-all duration-300",style:M({width:Math.min(s.raisedAmount/s.targetAmount*100,100)+"%"})},null,4)]),d(i,{to:`/appeals/${s.id}`,class:"text-coral-500 hover:text-coral-600 font-medium text-sm"},{default:a(()=>e[16]||(e[16]=[m(" View Details → ")])),_:2,__:[16]},1032,["to"])]))),128))]))])]),t("div",dt,[t("div",ut,[t("div",ct,[e[18]||(e[18]=t("h2",{class:"text-xl font-bold text-gray-900"},"Available Offers",-1)),d(i,{to:"/student/offers",class:"text-coral-500 hover:text-coral-600 font-medium"},{default:a(()=>e[17]||(e[17]=[m(" View All ")])),_:1,__:[17]})])]),t("div",mt,[p.value.length===0?(n(),u("div",xt,e[19]||(e[19]=[t("div",{class:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4"},[t("svg",{class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1),t("p",{class:"text-gray-500 mb-2"},"No matching offers found",-1),t("p",{class:"text-gray-400 text-sm"}," Complete your profile to see more offers ",-1)]))):(n(),u("div",pt,[(n(!0),u(f,null,b(p.value.slice(0,3),s=>(n(),u("div",{key:s.id,class:"border border-gray-100 rounded-xl p-4 hover:shadow-sm transition-shadow duration-200"},[t("div",ht,[t("h3",gt,r(s.title),1),e[20]||(e[20]=t("span",{class:"bg-blue-100 text-blue-700 text-xs px-3 py-1 rounded-full font-medium"},"New",-1))]),t("p",vt,r(s.description),1),t("div",ft,[t("span",bt,"₦"+r(s.amount.toLocaleString()),1),t("span",wt,"by "+r(s.sponsorName),1)]),d(i,{to:`/offers/${s.id}`,class:"bg-coral-500 text-white px-4 py-2 rounded-xl text-sm font-medium hover:bg-coral-600 transition-colors duration-200 inline-block"},{default:a(()=>e[21]||(e[21]=[m(" Apply Now ")])),_:2,__:[21]},1032,["to"])]))),128))]))])])])]),_:1},8,["navigation-items"])}}};export{Ct as default};
