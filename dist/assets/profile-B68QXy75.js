import{u as D,b as F,r as j,x as I,e as H,d as K,g as O,o as p,h as E,a as e,l as n,t as u,n as $,c as m,i as f,A as G,m as r,v as d,p as C,C as Y}from"./index-CXEPaLLm.js";import{_ as Q}from"./StudentSidebar-UotSKljk.js";const J={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},W={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},X={class:"lg:col-span-1"},Z={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},_={class:"text-center"},ee={class:"relative inline-block"},te=["src","alt"],se={class:"text-xl font-bold text-gray-900 mt-4"},oe={class:"text-gray-600 capitalize"},le={class:"mt-4 flex justify-center"},ae={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mt-6"},ie={class:"space-y-4"},re={key:0,class:"flex justify-between"},ne={class:"font-semibold text-gray-900"},de={key:1,class:"flex justify-between"},ue={class:"font-semibold text-gray-900"},pe={key:2,class:"flex justify-between"},me={class:"font-semibold text-gray-900"},fe={key:3,class:"flex justify-between"},ge={class:"font-semibold text-gray-900"},ve={class:"flex justify-between"},be={class:"font-semibold text-gray-900"},ye={class:"lg:col-span-2"},ce={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},xe={class:"mb-6"},Ne={class:"mb-6"},we={class:"mb-6"},Ue={key:0,class:"space-y-6 mb-6"},ke={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ve={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Se={key:1,class:"space-y-6 mb-6"},Ae={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Le={class:"mt-2 space-x-6"},Pe={class:"inline-flex items-center"},ze={class:"inline-flex items-center"},Te={class:"space-y-6 mb-6"},je={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ce={class:"flex justify-end space-x-4"},Ye=["disabled"],qe={__name:"profile",setup(Me){const a=D(),y=F(),g=j(!1),c=j(null),s=I({firstName:"",lastName:"",email:"",phone:"",bio:"",school:"",course:"",level:"",gpa:"",graduationYear:"",organization:"",position:"",sponsorType:"individual",state:"",city:""}),v=H(()=>{var i,t;return((i=a.user)==null?void 0:i.role)==="student"?{activeAppeals:2,totalRaised:15e4}:((t=a.user)==null?void 0:t.role)==="sponsor"?{activePrograms:3,studentsHelped:12}:{}}),x=()=>{var i,t;if(a.user){const l=a.user;s.firstName=l.firstName||((i=l.name)==null?void 0:i.split(" ")[0])||"",s.lastName=l.lastName||((t=l.name)==null?void 0:t.split(" ").slice(1).join(" "))||"",s.email=l.email||"",s.phone=l.phone||"",s.bio=l.bio||"",s.school=l.school||"",s.course=l.course||"",s.level=l.level||"",s.gpa=l.gpa||"",s.graduationYear=l.graduationYear||"",s.organization=l.organization||"",s.position=l.position||"",s.sponsorType=l.sponsorType||"individual",s.state=l.state||"",s.city=l.city||""}},M=()=>{x()},R=()=>{var i;(i=c.value)==null||i.click()},h=i=>{const t=i.target.files[0];if(t){const l=new FileReader;l.onload=b=>{a.updateProfile({avatar:b.target.result}),y.addNotification({type:"success",title:"Profile picture updated",message:"Your profile picture has been updated successfully."})},l.readAsDataURL(t)}},q=async()=>{g.value=!0;try{const i={name:`${s.firstName} ${s.lastName}`,firstName:s.firstName,lastName:s.lastName,email:s.email,phone:s.phone,bio:s.bio,school:s.school,course:s.course,level:s.level,gpa:s.gpa,graduationYear:s.graduationYear,organization:s.organization,position:s.position,sponsorType:s.sponsorType,state:s.state,city:s.city};a.updateProfile(i),y.addNotification({type:"success",title:"Profile updated",message:"Your profile has been updated successfully."})}catch{y.addNotification({type:"error",title:"Update failed",message:"Failed to update profile. Please try again."})}finally{g.value=!1}},B=i=>i?new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"N/A";return K(()=>{x()}),(i,t)=>(p(),O(Q,{"page-title":"Settings","page-subtitle":"Manage your account settings and preferences"},{default:E(()=>{var l,b,N,w,U,k,V,S,A,L,P,z,T;return[e("div",J,[t[46]||(t[46]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900"},"Profile"),e("p",{class:"text-gray-600 mt-2"},"Manage your personal information and preferences")],-1)),e("div",W,[e("div",X,[e("div",Z,[e("div",_,[e("div",ee,[e("img",{src:(l=n(a).user)==null?void 0:l.avatar,alt:(b=n(a).user)==null?void 0:b.name,class:"w-32 h-32 rounded-full border-4 border-gray-200 mx-auto"},null,8,te),e("button",{onClick:R,class:"absolute bottom-0 right-0 bg-coral-500 text-white p-2 rounded-full hover:bg-coral-600 transition-colors duration-200"},t[16]||(t[16]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])),e("input",{ref_key:"fileInput",ref:c,type:"file",accept:"image/*",onChange:h,class:"hidden"},null,544)]),e("h2",se,u((N=n(a).user)==null?void 0:N.name),1),e("p",oe,u((w=n(a).user)==null?void 0:w.role),1),e("div",le,[e("span",{class:$(["px-3 py-1 rounded-full text-sm font-medium",(U=n(a).user)!=null&&U.verified?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"])},u((k=n(a).user)!=null&&k.verified?"Verified":"Pending Verification"),3)])])]),e("div",ae,[t[22]||(t[22]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Quick Stats",-1)),e("div",ie,[((V=n(a).user)==null?void 0:V.role)==="student"?(p(),m("div",re,[t[17]||(t[17]=e("span",{class:"text-gray-600"},"Active Appeals",-1)),e("span",ne,u(v.value.activeAppeals||0),1)])):f("",!0),((S=n(a).user)==null?void 0:S.role)==="student"?(p(),m("div",de,[t[18]||(t[18]=e("span",{class:"text-gray-600"},"Total Raised",-1)),e("span",ue,"â‚¦"+u((v.value.totalRaised||0).toLocaleString()),1)])):f("",!0),((A=n(a).user)==null?void 0:A.role)==="sponsor"?(p(),m("div",pe,[t[19]||(t[19]=e("span",{class:"text-gray-600"},"Active Programs",-1)),e("span",me,u(v.value.activePrograms||0),1)])):f("",!0),((L=n(a).user)==null?void 0:L.role)==="sponsor"?(p(),m("div",fe,[t[20]||(t[20]=e("span",{class:"text-gray-600"},"Students Helped",-1)),e("span",ge,u(v.value.studentsHelped||0),1)])):f("",!0),e("div",ve,[t[21]||(t[21]=e("span",{class:"text-gray-600"},"Member Since",-1)),e("span",be,u(B((P=n(a).user)==null?void 0:P.createdAt)),1)])])])]),e("div",ye,[e("form",{onSubmit:G(q,["prevent"]),class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},[t[45]||(t[45]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-6"},"Personal Information",-1)),e("div",ce,[e("div",null,[t[23]||(t[23]=e("label",{for:"firstName",class:"form-label"},"First Name",-1)),r(e("input",{id:"firstName","onUpdate:modelValue":t[0]||(t[0]=o=>s.firstName=o),type:"text",required:"",class:"form-input"},null,512),[[d,s.firstName]])]),e("div",null,[t[24]||(t[24]=e("label",{for:"lastName",class:"form-label"},"Last Name",-1)),r(e("input",{id:"lastName","onUpdate:modelValue":t[1]||(t[1]=o=>s.lastName=o),type:"text",required:"",class:"form-input"},null,512),[[d,s.lastName]])])]),e("div",xe,[t[25]||(t[25]=e("label",{for:"email",class:"form-label"},"Email Address",-1)),r(e("input",{id:"email","onUpdate:modelValue":t[2]||(t[2]=o=>s.email=o),type:"email",required:"",class:"form-input"},null,512),[[d,s.email]])]),e("div",Ne,[t[26]||(t[26]=e("label",{for:"phone",class:"form-label"},"Phone Number",-1)),r(e("input",{id:"phone","onUpdate:modelValue":t[3]||(t[3]=o=>s.phone=o),type:"tel",class:"form-input",placeholder:"+234 xxx xxx xxxx"},null,512),[[d,s.phone]])]),e("div",we,[t[27]||(t[27]=e("label",{for:"bio",class:"form-label"},"Bio",-1)),r(e("textarea",{id:"bio","onUpdate:modelValue":t[4]||(t[4]=o=>s.bio=o),rows:"4",class:"form-input",placeholder:"Tell us about yourself..."},null,512),[[d,s.bio]])]),((z=n(a).user)==null?void 0:z.role)==="student"?(p(),m("div",Ue,[t[34]||(t[34]=e("h4",{class:"text-md font-semibold text-gray-900 border-t pt-6"},"Academic Information",-1)),e("div",ke,[e("div",null,[t[28]||(t[28]=e("label",{for:"school",class:"form-label"},"School/University",-1)),r(e("input",{id:"school","onUpdate:modelValue":t[5]||(t[5]=o=>s.school=o),type:"text",required:"",class:"form-input"},null,512),[[d,s.school]])]),e("div",null,[t[29]||(t[29]=e("label",{for:"course",class:"form-label"},"Course of Study",-1)),r(e("input",{id:"course","onUpdate:modelValue":t[6]||(t[6]=o=>s.course=o),type:"text",required:"",class:"form-input"},null,512),[[d,s.course]])])]),e("div",Ve,[e("div",null,[t[31]||(t[31]=e("label",{for:"level",class:"form-label"},"Academic Level",-1)),r(e("select",{id:"level","onUpdate:modelValue":t[7]||(t[7]=o=>s.level=o),required:"",class:"form-input"},t[30]||(t[30]=[e("option",{value:""},"Select level",-1),e("option",{value:"100 Level"},"100 Level",-1),e("option",{value:"200 Level"},"200 Level",-1),e("option",{value:"300 Level"},"300 Level",-1),e("option",{value:"400 Level"},"400 Level",-1),e("option",{value:"500 Level"},"500 Level",-1),e("option",{value:"Postgraduate"},"Postgraduate",-1)]),512),[[C,s.level]])]),e("div",null,[t[32]||(t[32]=e("label",{for:"gpa",class:"form-label"},"Current GPA",-1)),r(e("input",{id:"gpa","onUpdate:modelValue":t[8]||(t[8]=o=>s.gpa=o),type:"number",step:"0.01",min:"0",max:"5",class:"form-input"},null,512),[[d,s.gpa,void 0,{number:!0}]])]),e("div",null,[t[33]||(t[33]=e("label",{for:"graduationYear",class:"form-label"},"Expected Graduation",-1)),r(e("input",{id:"graduationYear","onUpdate:modelValue":t[9]||(t[9]=o=>s.graduationYear=o),type:"number",min:"2024",max:"2030",class:"form-input"},null,512),[[d,s.graduationYear]])])])])):f("",!0),((T=n(a).user)==null?void 0:T.role)==="sponsor"?(p(),m("div",Se,[t[40]||(t[40]=e("h4",{class:"text-md font-semibold text-gray-900 border-t pt-6"},"Organization Information",-1)),e("div",Ae,[e("div",null,[t[35]||(t[35]=e("label",{for:"organization",class:"form-label"},"Organization",-1)),r(e("input",{id:"organization","onUpdate:modelValue":t[10]||(t[10]=o=>s.organization=o),type:"text",class:"form-input"},null,512),[[d,s.organization]])]),e("div",null,[t[36]||(t[36]=e("label",{for:"position",class:"form-label"},"Position",-1)),r(e("input",{id:"position","onUpdate:modelValue":t[11]||(t[11]=o=>s.position=o),type:"text",class:"form-input"},null,512),[[d,s.position]])])]),e("div",null,[t[39]||(t[39]=e("label",{class:"form-label"},"Sponsor Type",-1)),e("div",Le,[e("label",Pe,[r(e("input",{"onUpdate:modelValue":t[12]||(t[12]=o=>s.sponsorType=o),type:"radio",value:"individual",class:"form-radio text-coral-500"},null,512),[[Y,s.sponsorType]]),t[37]||(t[37]=e("span",{class:"ml-2"},"Individual",-1))]),e("label",ze,[r(e("input",{"onUpdate:modelValue":t[13]||(t[13]=o=>s.sponsorType=o),type:"radio",value:"corporate",class:"form-radio text-coral-500"},null,512),[[Y,s.sponsorType]]),t[38]||(t[38]=e("span",{class:"ml-2"},"Corporate",-1))])])])])):f("",!0),e("div",Te,[t[44]||(t[44]=e("h4",{class:"text-md font-semibold text-gray-900 border-t pt-6"},"Location",-1)),e("div",je,[e("div",null,[t[42]||(t[42]=e("label",{for:"state",class:"form-label"},"State",-1)),r(e("select",{id:"state","onUpdate:modelValue":t[14]||(t[14]=o=>s.state=o),class:"form-input"},t[41]||(t[41]=[e("option",{value:""},"Select state",-1),e("option",{value:"Lagos"},"Lagos",-1),e("option",{value:"Abuja"},"Abuja",-1),e("option",{value:"Kano"},"Kano",-1),e("option",{value:"Rivers"},"Rivers",-1),e("option",{value:"Oyo"},"Oyo",-1),e("option",{value:"Kaduna"},"Kaduna",-1)]),512),[[C,s.state]])]),e("div",null,[t[43]||(t[43]=e("label",{for:"city",class:"form-label"},"City",-1)),r(e("input",{id:"city","onUpdate:modelValue":t[15]||(t[15]=o=>s.city=o),type:"text",class:"form-input"},null,512),[[d,s.city]])])])]),e("div",Ce,[e("button",{type:"button",onClick:M,class:"px-6 py-2 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors duration-200"}," Reset "),e("button",{type:"submit",disabled:g.value,class:"btn-primary"},u(g.value?"Updating...":"Update Profile"),9,Ye)])],32)])])])]}),_:1}))}};export{qe as default};
