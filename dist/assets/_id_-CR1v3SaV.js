import{s as S,x as q,a as A,r as g,c as E,o as V,d as D,e as d,f as U,g as s,p as m,A as C,l,v as i,F as B,q as T,t as I,m as b,i as M,k as v}from"./index-EqsJQukp.js";import{u as N}from"./scholarships-BZkcYeM6.js";import{a as $,_ as F}from"./navItems-BcGEYHfz.js";import{m as c}from"./mockScholarships-Bp4Th3aO.js";import{r as R}from"./ExclamationCircleIcon-CstLx_JE.js";import"./authHeader-DkpUnqMe.js";const L={class:"min-h-screen bg-gray-50"},j={key:0,class:"flex justify-center items-center h-64"},H={key:1,class:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},O={class:"bg-white shadow-sm rounded-lg p-6"},z={class:"space-y-6"},G={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},J={class:"bg-white shadow-sm rounded-lg p-6"},K={class:"space-y-6"},P={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},Q=["min"],W=["value"],X={class:"bg-white shadow-sm rounded-lg p-6"},Y={class:"space-y-6"},Z={key:2,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},_={class:"text-center"},ee={class:"mt-6"},de={__name:"[id]",setup(se){const n=S(),p=q();N();const u=A(),f=g(!0),r=g(null),o=g({title:"",description:"",amount:0,awardsAvailable:1,requirements:"",deadline:"",category:"",status:"draft"}),x=["STEM","Arts","Humanities","Business","Healthcare","Engineering","Technology","Leadership","Environment","Other"],y=E(()=>new Date().toISOString().split("T")[0]),h=async()=>{try{f.value=!0,r.value=c.find(a=>a.id===parseInt(n.params.id)),r.value?o.value={title:r.value.title,description:r.value.description,amount:r.value.amount,awardsAvailable:r.value.awardsAvailable,requirements:r.value.requirements,deadline:r.value.deadline.split("T")[0],category:r.value.category,status:r.value.status}:u.showError("Scholarship not found")}catch{u.showError("Failed to load scholarship details")}finally{f.value=!1}},w=async()=>{try{const a=c.findIndex(e=>e.id===parseInt(n.params.id));a!==-1&&(c[a]={...c[a],...o.value}),u.showSuccess("Scholarship updated successfully"),p.push(`/sponsor/scholarships/${n.params.id}`)}catch{u.showError("Failed to update scholarship")}},k=()=>{p.push(`/sponsor/scholarships/${n.params.id}`)};return V(()=>{h()}),(a,e)=>(d(),D(F,{"navigation-items":v($),"page-title":"Edit Scholarship"},{default:U(()=>[s("div",L,[f.value?(d(),m("div",j,e[9]||(e[9]=[s("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-coral-600"},null,-1)]))):r.value?(d(),m("div",H,[e[24]||(e[24]=s("div",{class:"mb-8"},[s("h1",{class:"text-2xl font-bold text-gray-900"},"Edit Scholarship"),s("p",{class:"mt-2 text-sm text-gray-600"}," Update your scholarship details and requirements ")],-1)),s("form",{onSubmit:C(w,["prevent"]),class:"space-y-8"},[s("div",O,[e[14]||(e[14]=s("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Basic Information",-1)),s("div",z,[s("div",null,[e[10]||(e[10]=s("label",{for:"title",class:"block text-sm font-medium text-gray-700"}," Scholarship Title* ",-1)),l(s("input",{type:"text",id:"title","onUpdate:modelValue":e[0]||(e[0]=t=>o.value.title=t),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-coral-500 focus:ring-coral-500 sm:text-sm"},null,512),[[i,o.value.title]])]),s("div",null,[e[11]||(e[11]=s("label",{for:"description",class:"block text-sm font-medium text-gray-700"}," Description* ",-1)),l(s("textarea",{id:"description","onUpdate:modelValue":e[1]||(e[1]=t=>o.value.description=t),rows:"4",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-coral-500 focus:ring-coral-500 sm:text-sm"},null,512),[[i,o.value.description]])]),s("div",G,[s("div",null,[e[12]||(e[12]=s("label",{for:"amount",class:"block text-sm font-medium text-gray-700"}," Award Amount ($)* ",-1)),l(s("input",{type:"number",id:"amount","onUpdate:modelValue":e[2]||(e[2]=t=>o.value.amount=t),min:"0",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-coral-500 focus:ring-coral-500 sm:text-sm"},null,512),[[i,o.value.amount]])]),s("div",null,[e[13]||(e[13]=s("label",{for:"awardsAvailable",class:"block text-sm font-medium text-gray-700"}," Number of Awards* ",-1)),l(s("input",{type:"number",id:"awardsAvailable","onUpdate:modelValue":e[3]||(e[3]=t=>o.value.awardsAvailable=t),min:"1",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-coral-500 focus:ring-coral-500 sm:text-sm"},null,512),[[i,o.value.awardsAvailable]])])])])]),s("div",J,[e[18]||(e[18]=s("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Requirements and Deadlines",-1)),s("div",K,[s("div",null,[e[15]||(e[15]=s("label",{for:"requirements",class:"block text-sm font-medium text-gray-700"}," Requirements* ",-1)),l(s("textarea",{id:"requirements","onUpdate:modelValue":e[4]||(e[4]=t=>o.value.requirements=t),rows:"4",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-coral-500 focus:ring-coral-500 sm:text-sm",placeholder:"List the eligibility requirements and necessary qualifications..."},null,512),[[i,o.value.requirements]])]),s("div",P,[s("div",null,[e[16]||(e[16]=s("label",{for:"deadline",class:"block text-sm font-medium text-gray-700"}," Application Deadline* ",-1)),l(s("input",{type:"date",id:"deadline","onUpdate:modelValue":e[5]||(e[5]=t=>o.value.deadline=t),required:"",min:y.value,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-coral-500 focus:ring-coral-500 sm:text-sm"},null,8,Q),[[i,o.value.deadline]])]),s("div",null,[e[17]||(e[17]=s("label",{for:"category",class:"block text-sm font-medium text-gray-700"}," Category* ",-1)),l(s("select",{id:"category","onUpdate:modelValue":e[6]||(e[6]=t=>o.value.category=t),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-coral-500 focus:ring-coral-500 sm:text-sm"},[(d(),m(B,null,T(x,t=>s("option",{key:t,value:t},I(t),9,W)),64))],512),[[b,o.value.category]])])])])]),s("div",X,[e[22]||(e[22]=s("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Additional Settings",-1)),s("div",Y,[s("div",null,[e[20]||(e[20]=s("label",{for:"status",class:"block text-sm font-medium text-gray-700"}," Status ",-1)),l(s("select",{id:"status","onUpdate:modelValue":e[7]||(e[7]=t=>o.value.status=t),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-coral-500 focus:ring-coral-500 sm:text-sm"},e[19]||(e[19]=[s("option",{value:"draft"},"Draft",-1),s("option",{value:"active"},"Active",-1),s("option",{value:"closed"},"Closed",-1)]),512),[[b,o.value.status]]),e[21]||(e[21]=s("p",{class:"mt-2 text-sm text-gray-500"},' Changing status to "Active" will make the scholarship visible to students ',-1))])])]),s("div",{class:"flex items-center justify-end space-x-4"},[s("button",{type:"button",onClick:k,class:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-coral-500"}," Cancel "),e[23]||(e[23]=s("button",{type:"submit",class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-coral-600 hover:bg-coral-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-coral-500"}," Save Changes ",-1))])],32)])):(d(),m("div",Z,[s("div",_,[M(v(R),{class:"mx-auto h-12 w-12 text-gray-400"}),e[25]||(e[25]=s("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Scholarship not found",-1)),e[26]||(e[26]=s("p",{class:"mt-1 text-sm text-gray-500"}," The scholarship you're trying to edit doesn't exist or you don't have permission to edit it. ",-1)),s("div",ee,[s("button",{onClick:e[8]||(e[8]=t=>v(p).push("/sponsor/scholarships")),class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-coral-600 hover:bg-coral-700"}," Back to Scholarships ")])])]))])]),_:1},8,["navigation-items"]))}};export{de as default};
