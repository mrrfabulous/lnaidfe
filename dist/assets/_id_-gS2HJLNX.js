import{s as Q,z as W,b as X,r as R,x as J,d as K,f as Z,g as tt,o as l,h as f,a as t,c as n,i as p,j as r,l as d,k as u,t as o,n as et,y as st,F as h,q as w}from"./index-CXEPaLLm.js";import{u as ot}from"./appeals-Bzx2EM96.js";import{c as V,F as at,_ as lt}from"./StudentSidebar-UotSKljk.js";import{A as nt}from"./arrow-left-D6iZNvca.js";import{C as rt}from"./calendar-CZsrq4KF.js";import{P as T,a as U,S as B,C as M}from"./square-pen-C4US-xLo.js";import{S as P}from"./share-2-BqjI1D23.js";import{T as it}from"./trash-2-DxO4olSl.js";import{X as dt}from"./x-BPlPAr5W.js";/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=V("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=V("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),ct={class:"min-h-screen bg-gray-50"},mt={class:"bg-white border-b border-gray-200"},xt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},gt={class:"flex items-center justify-between h-16"},yt={key:0,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},bt={key:1,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},ft={class:"text-center"},vt={key:2,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},ht={class:"flex items-center space-x-2 text-sm text-gray-600 mb-6"},wt={class:"text-gray-900"},_t={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},kt={class:"lg:col-span-2 space-y-6"},At={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},Ct={class:"flex items-start justify-between mb-4"},St={class:"text-3xl font-bold text-gray-900 mb-2"},jt={class:"flex items-center space-x-4"},Nt={class:"text-gray-600 flex items-center"},$t={class:"flex items-center space-x-2"},Lt={class:"mb-6"},Dt={class:"flex justify-between text-sm text-gray-600 mb-2"},It={class:"w-full bg-gray-200 rounded-full h-3"},Rt={class:"flex justify-between text-sm text-gray-600 mt-2"},Tt={class:"prose prose-gray max-w-none"},Ut={class:"text-gray-700 leading-relaxed whitespace-pre-line"},Bt={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},Mt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Pt={class:"text-gray-900"},Vt={class:"text-gray-900"},Ft={class:"text-gray-900"},zt={key:0},Et={class:"text-gray-900"},qt={key:0,class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},Yt={class:"space-y-3"},Ht={class:"text-gray-700"},Gt={class:"text-gray-900 font-medium"},Ot={key:1,class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},Qt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Wt={class:"flex items-center space-x-3"},Xt={class:"w-8 h-8 bg-coral-100 rounded-lg flex items-center justify-center"},Jt={class:"flex-1 min-w-0"},Kt={class:"text-sm font-medium text-gray-900 truncate"},Zt={class:"text-xs text-gray-500"},te=["onClick"],ee={key:2,class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},se={class:"space-y-4"},oe={class:"flex items-center space-x-3"},ae={class:"w-10 h-10 bg-gradient-to-br from-coral-400 to-coral-600 rounded-full flex items-center justify-center"},le={class:"text-white font-medium text-sm"},ne={class:"font-medium text-gray-900"},re={class:"text-sm text-gray-600"},ie={class:"text-right"},de={class:"font-medium text-coral-600"},pe={key:0,class:"text-xs text-gray-500 max-w-32 truncate"},ue={key:0,class:"mt-4 text-center"},ce={class:"text-coral-500 hover:text-coral-700 text-sm font-medium"},me={key:3,class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},xe={class:"space-y-6"},ge={class:"flex items-center justify-between mb-2"},ye={class:"font-medium text-gray-900"},be={class:"text-sm text-gray-500"},fe={class:"text-gray-700 text-sm"},ve={class:"space-y-6"},he={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},we={class:"space-y-4"},_e={class:"flex justify-between"},ke={class:"font-medium"},Ae={class:"flex justify-between"},Ce={class:"font-medium text-coral-600"},Se={class:"flex justify-between"},je={class:"font-medium"},Ne={class:"flex justify-between"},$e={class:"font-medium"},Le={class:"flex justify-between"},De={class:"font-medium"},Ie={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},Re={class:"space-y-3"},Te={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Ue={class:"bg-white rounded-2xl p-8 max-w-md w-full mx-4"},Be={class:"flex items-center justify-between mb-6"},Me={class:"space-y-4"},Pe={class:"flex"},Ve=["value"],Fe={class:"grid grid-cols-3 gap-3"},Ke={__name:"[id]",setup(ze){const _=Q(),F=W(),g=ot(),c=X(),A=R(!0),s=R(null),y=J({show:!1,link:""});K(async()=>{await z()});const z=async()=>{try{g.appeals.length===0&&g.initializeAppeals();let a=F.params.id;if(!a){const e=window.location.pathname.split("/");a=e[e.length-1]}a&&!isNaN(a)?s.value=g.getAppealById(parseInt(a)):(console.error("Invalid appeal ID:",a),s.value=null),A.value=!1}catch(a){console.error("Error loading appeal:",a),c.addNotification({type:"error",title:"Error loading appeal",message:"Could not load appeal data. Please try again."}),_.push("/student/appeals")}},E=a=>({active:"bg-green-100 text-green-700",completed:"bg-blue-100 text-blue-700",paused:"bg-yellow-100 text-yellow-700",cancelled:"bg-red-100 text-red-700",draft:"bg-gray-100 text-gray-700"})[a]||"bg-gray-100 text-gray-700",q=a=>a.charAt(0).toUpperCase()+a.slice(1),v=a=>a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",C=()=>{g.updateAppealStatus(s.value.id,"paused"),s.value.status="paused",c.addNotification({type:"info",title:"Appeal paused",message:"Your appeal has been paused and is no longer visible to donors."})},S=()=>{g.updateAppealStatus(s.value.id,"active"),s.value.status="active",c.addNotification({type:"success",title:"Appeal resumed",message:"Your appeal is now active and visible to donors again."})},j=()=>{y.link=`${window.location.origin}/appeals/${s.value.id}`,y.show=!0},Y=async()=>{try{await navigator.clipboard.writeText(y.link),c.addNotification({type:"success",title:"Link copied",message:"Appeal link has been copied to clipboard"})}catch{c.addNotification({type:"error",title:"Copy failed",message:"Failed to copy link to clipboard"})}},H=()=>{const a={...s.value};delete a.id,a.title=`${s.value.title} (Copy)`,a.status="draft",a.raisedAmount=0,a.donations=[],a.createdAt=new Date().toISOString(),g.addAppeal(a),c.addNotification({type:"success",title:"Appeal duplicated",message:"A copy of your appeal has been created as a draft."}),_.push("/student/appeals")},G=()=>{confirm("Are you sure you want to delete this appeal? This action cannot be undone.")&&(g.deleteAppeal(s.value.id),c.addNotification({type:"success",title:"Appeal deleted",message:"Your appeal has been permanently deleted."}),_.push("/student/appeals"))},O=a=>{c.addNotification({type:"info",title:"Download started",message:`Downloading ${a.name}...`})},k=a=>{const e=y.link,m=`Help me raise funds for ${s.value.title}. ${(s.value.description||"").substring(0,100)}...`;let x="";switch(a){case"twitter":x=`https://twitter.com/intent/tweet?text=${encodeURIComponent(m)}&url=${encodeURIComponent(e)}`;break;case"facebook":x=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(e)}`;break;case"whatsapp":x=`https://wa.me/?text=${encodeURIComponent(m+" "+e)}`;break}x&&window.open(x,"_blank","width=600,height=400")};return(a,e)=>{const m=Z("router-link");return l(),tt(lt,null,{default:f(()=>{var x,N,$,L,D,I;return[t("div",ct,[t("div",mt,[t("div",xt,[t("div",gt,[e[5]||(e[5]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900"},"Appeal Details"),t("p",{class:"text-sm text-gray-500"},"View and manage your funding appeal")],-1)),r(m,{to:"/student/appeals",class:"text-gray-600 hover:text-gray-800 transition-colors duration-200 flex items-center space-x-2"},{default:f(()=>[r(d(nt),{class:"h-5 w-5"}),e[4]||(e[4]=t("span",null,"Back to Appeals",-1))]),_:1,__:[4]})])])]),A.value?(l(),n("div",yt,e[6]||(e[6]=[t("div",{class:"text-center"},[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-coral-500 mx-auto"}),t("p",{class:"text-gray-600 mt-4"},"Loading appeal...")],-1)]))):s.value?(l(),n("div",vt,[t("nav",ht,[r(m,{to:"/student/appeals",class:"hover:text-coral-500"},{default:f(()=>e[10]||(e[10]=[u("My Appeals")])),_:1,__:[10]}),r(d(pt),{class:"w-4 h-4"}),t("span",wt,o(s.value.title),1)]),t("div",_t,[t("div",kt,[t("div",At,[t("div",Ct,[t("div",null,[t("h1",St,o(s.value.title),1),t("div",jt,[t("span",{class:et([E(s.value.status),"px-3 py-1 rounded-full text-sm font-medium"])},o(q(s.value.status)),3),t("span",Nt,[r(d(rt),{class:"w-4 h-4 mr-1"}),u(" Created "+o(v(s.value.createdAt)),1)])])]),t("div",$t,[s.value.status==="active"?(l(),n("button",{key:0,onClick:C,class:"px-4 py-2 border border-yellow-300 text-yellow-700 rounded-lg hover:bg-yellow-50 transition-colors flex items-center space-x-1"},[r(d(T),{class:"w-4 h-4"}),e[11]||(e[11]=t("span",null,"Pause",-1))])):p("",!0),s.value.status==="paused"?(l(),n("button",{key:1,onClick:S,class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-1"},[r(d(U),{class:"w-4 h-4"}),e[12]||(e[12]=t("span",null,"Resume",-1))])):p("",!0),r(m,{to:`/student/appeals/edit/${s.value.id}`,class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-1"},{default:f(()=>[r(d(B),{class:"w-4 h-4"}),e[13]||(e[13]=t("span",null,"Edit",-1))]),_:1,__:[13]},8,["to"]),t("button",{onClick:j,class:"px-4 py-2 bg-coral-500 text-white rounded-lg hover:bg-coral-600 transition-colors flex items-center space-x-1"},[r(d(P),{class:"w-4 h-4"}),e[14]||(e[14]=t("span",null,"Share",-1))])])]),t("div",Lt,[t("div",Dt,[e[15]||(e[15]=t("span",null,"Progress",-1)),t("span",null,"₦"+o((s.value.raisedAmount||0).toLocaleString())+" / ₦"+o((s.value.targetAmount||0).toLocaleString()),1)]),t("div",It,[t("div",{class:"bg-coral-500 h-3 rounded-full transition-all duration-300",style:st({width:Math.min((s.value.raisedAmount||0)/(s.value.targetAmount||1)*100,100)+"%"})},null,4)]),t("div",Rt,[t("span",null,o(Math.round((s.value.raisedAmount||0)/(s.value.targetAmount||1)*100))+"% funded",1),t("span",null,o(((x=s.value.donations)==null?void 0:x.length)||0)+" donors",1)])]),t("div",null,[e[16]||(e[16]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"My Story",-1)),t("div",Tt,[t("p",Ut,o(s.value.description||s.value.story||"No description provided."),1)])])]),t("div",Bt,[e[21]||(e[21]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Academic Information",-1)),t("div",Mt,[t("div",null,[e[17]||(e[17]=t("h3",{class:"text-sm font-medium text-gray-500"},"School/University",-1)),t("p",Pt,o(s.value.school||"Not specified"),1)]),t("div",null,[e[18]||(e[18]=t("h3",{class:"text-sm font-medium text-gray-500"},"Course of Study",-1)),t("p",Vt,o(s.value.course||"Not specified"),1)]),t("div",null,[e[19]||(e[19]=t("h3",{class:"text-sm font-medium text-gray-500"},"Academic Level",-1)),t("p",Ft,o(s.value.level||"Not specified"),1)]),s.value.gpa?(l(),n("div",zt,[e[20]||(e[20]=t("h3",{class:"text-sm font-medium text-gray-500"},"GPA",-1)),t("p",Et,o(s.value.gpa),1)])):p("",!0)])]),(N=s.value.budgetItems)!=null&&N.length?(l(),n("div",qt,[e[22]||(e[22]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Budget Breakdown",-1)),t("div",Yt,[(l(!0),n(h,null,w(s.value.budgetItems,(i,b)=>(l(),n("div",{key:b,class:"flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0"},[t("span",Ht,o(i.description),1),t("span",Gt,"₦"+o(i.amount.toLocaleString()),1)]))),128))])])):p("",!0),($=s.value.documents)!=null&&$.length?(l(),n("div",Ot,[e[23]||(e[23]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Supporting Documents",-1)),t("div",Qt,[(l(!0),n(h,null,w(s.value.documents,(i,b)=>(l(),n("div",{key:b,class:"border border-gray-200 rounded-lg p-4 hover:border-coral-300 transition-colors"},[t("div",Wt,[t("div",Xt,[r(d(at),{class:"w-4 h-4 text-coral-600"})]),t("div",Jt,[t("p",Kt,o(i.name),1),t("p",Zt,o(i.type),1)]),t("button",{onClick:Ee=>O(i),class:"text-coral-500 hover:text-coral-700 transition-colors"},[r(d(ut),{class:"w-4 h-4"})],8,te)])]))),128))])])):p("",!0),(L=s.value.donations)!=null&&L.length?(l(),n("div",ee,[e[24]||(e[24]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Recent Donations",-1)),t("div",se,[(l(!0),n(h,null,w(s.value.donations.slice(0,5),(i,b)=>(l(),n("div",{key:b,class:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0"},[t("div",oe,[t("div",ae,[t("span",le,o(i.donor.charAt(0).toUpperCase()),1)]),t("div",null,[t("p",ne,o(i.donor||"Anonymous"),1),t("p",re,o(v(i.date)),1)])]),t("div",ie,[t("p",de,"₦"+o(i.amount.toLocaleString()),1),i.message?(l(),n("p",pe,o(i.message),1)):p("",!0)])]))),128))]),s.value.donations.length>5?(l(),n("div",ue,[t("button",ce," View all "+o(s.value.donations.length)+" donations ",1)])):p("",!0)])):p("",!0),(D=s.value.updates)!=null&&D.length?(l(),n("div",me,[e[25]||(e[25]=t("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Updates",-1)),t("div",xe,[(l(!0),n(h,null,w(s.value.updates,(i,b)=>(l(),n("div",{key:b,class:"border-l-4 border-coral-500 pl-4"},[t("div",ge,[t("h3",ye,o(i.title),1),t("span",be,o(v(i.date)),1)]),t("p",fe,o(i.content),1)]))),128))])])):p("",!0)]),t("div",ve,[t("div",he,[e[31]||(e[31]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Appeal Statistics",-1)),t("div",we,[t("div",_e,[e[26]||(e[26]=t("span",{class:"text-gray-600"},"Target Amount",-1)),t("span",ke,"₦"+o((s.value.targetAmount||0).toLocaleString()),1)]),t("div",Ae,[e[27]||(e[27]=t("span",{class:"text-gray-600"},"Amount Raised",-1)),t("span",Ce,"₦"+o((s.value.raisedAmount||0).toLocaleString()),1)]),t("div",Se,[e[28]||(e[28]=t("span",{class:"text-gray-600"},"Total Donors",-1)),t("span",je,o(((I=s.value.donations)==null?void 0:I.length)||0),1)]),t("div",Ne,[e[29]||(e[29]=t("span",{class:"text-gray-600"},"Category",-1)),t("span",$e,o(s.value.category||"Not specified"),1)]),t("div",Le,[e[30]||(e[30]=t("span",{class:"text-gray-600"},"Last Updated",-1)),t("span",De,o(v(s.value.updatedAt||s.value.createdAt)),1)])])]),t("div",Ie,[e[39]||(e[39]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Quick Actions",-1)),t("div",Re,[r(m,{to:`/student/appeals/edit/${s.value.id}`,class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors"},{default:f(()=>[r(d(B),{class:"w-4 h-4 mr-2"}),e[32]||(e[32]=u(" Edit Appeal "))]),_:1,__:[32]},8,["to"]),t("button",{onClick:j,class:"w-full flex items-center justify-center px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors"},[r(d(P),{class:"w-4 h-4 mr-2"}),e[33]||(e[33]=u(" Share Appeal "))]),t("button",{onClick:H,class:"w-full flex items-center justify-center px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors"},[r(d(M),{class:"w-4 h-4 mr-2"}),e[34]||(e[34]=u(" Duplicate Appeal "))]),s.value.status==="active"?(l(),n("button",{key:0,onClick:C,class:"w-full flex items-center justify-center px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors"},[r(d(T),{class:"w-4 h-4 mr-2"}),e[35]||(e[35]=u(" Pause Appeal "))])):p("",!0),s.value.status==="paused"?(l(),n("button",{key:1,onClick:S,class:"w-full flex items-center justify-center px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors"},[r(d(U),{class:"w-4 h-4 mr-2"}),e[36]||(e[36]=u(" Resume Appeal "))])):p("",!0),e[38]||(e[38]=t("hr",{class:"border-gray-200"},null,-1)),t("button",{onClick:G,class:"w-full flex items-center justify-center px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors"},[r(d(it),{class:"w-4 h-4 mr-2"}),e[37]||(e[37]=u(" Delete Appeal "))])])])])])])):(l(),n("div",bt,[t("div",ft,[e[8]||(e[8]=t("h1",{class:"text-2xl font-bold text-gray-900"},"Appeal not found",-1)),e[9]||(e[9]=t("p",{class:"text-gray-600 mt-2"},"The appeal you're looking for doesn't exist or has been removed.",-1)),r(m,{to:"/student/appeals",class:"bg-coral-500 text-white px-6 py-3 rounded-lg hover:bg-coral-600 transition-colors duration-200 inline-block mt-4"},{default:f(()=>e[7]||(e[7]=[u(" Back to My Appeals ")])),_:1,__:[7]})])])),y.show?(l(),n("div",Te,[t("div",Ue,[t("div",Be,[e[40]||(e[40]=t("h3",{class:"text-xl font-bold text-gray-900"},"Share Appeal",-1)),t("button",{onClick:e[0]||(e[0]=i=>y.show=!1),class:"text-gray-400 hover:text-gray-600"},[r(d(dt),{class:"h-6 w-6"})])]),e[45]||(e[45]=t("p",{class:"text-gray-600 mb-6"},"Share your appeal to reach more potential supporters",-1)),t("div",Me,[t("div",null,[e[41]||(e[41]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Appeal Link",-1)),t("div",Pe,[t("input",{value:y.link,readonly:"",class:"flex-1 px-3 py-2 border border-gray-300 rounded-l-xl bg-gray-50 text-sm"},null,8,Ve),t("button",{onClick:Y,class:"px-4 py-2 bg-coral-500 text-white rounded-r-xl hover:bg-coral-600 transition-colors"},[r(d(M),{class:"h-4 w-4"})])])]),t("div",Fe,[t("button",{onClick:e[1]||(e[1]=i=>k("twitter")),class:"flex items-center justify-center px-4 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors"},e[42]||(e[42]=[t("span",{class:"text-sm font-medium"},"Twitter",-1)])),t("button",{onClick:e[2]||(e[2]=i=>k("facebook")),class:"flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors"},e[43]||(e[43]=[t("span",{class:"text-sm font-medium"},"Facebook",-1)])),t("button",{onClick:e[3]||(e[3]=i=>k("whatsapp")),class:"flex items-center justify-center px-4 py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-colors"},e[44]||(e[44]=[t("span",{class:"text-sm font-medium"},"WhatsApp",-1)]))])])])])):p("",!0)])]}),_:1})}}};export{Ke as default};
