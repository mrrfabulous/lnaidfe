import{x as O,u as Y,a as L,r as c,y as A,o as $,d as B,e as f,f as F,g as e,p,h as m,t as w,k as u,n as G,A as R,l as o,v,O as i}from"./index-EqsJQukp.js";import{s as q,_ as z}from"./navItems-BcGEYHfz.js";import"./authHeader-DkpUnqMe.js";const I={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},_={class:"space-y-8"},J={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},Z={class:"space-y-6"},H={class:"flex items-center justify-between p-4 bg-gray-50 rounded-xl"},K={class:"text-sm text-gray-600"},Q={class:"flex items-center space-x-3"},W={class:"border-t pt-6"},X={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ee=["disabled"],te={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},se={class:"space-y-6"},re={class:"flex items-center justify-between"},oe={class:"relative inline-flex items-center cursor-pointer"},ae={class:"flex items-center justify-between"},le={class:"relative inline-flex items-center cursor-pointer"},ie={class:"flex items-center justify-between"},ne={class:"relative inline-flex items-center cursor-pointer"},de={key:0,class:"space-y-4 border-t pt-6"},ue={class:"flex items-center justify-between"},fe={class:"relative inline-flex items-center cursor-pointer"},ce={class:"flex items-center justify-between"},pe={class:"relative inline-flex items-center cursor-pointer"},me={key:1,class:"space-y-4 border-t pt-6"},be={class:"flex items-center justify-between"},ge={class:"relative inline-flex items-center cursor-pointer"},xe={class:"flex items-center justify-between"},ye={class:"relative inline-flex items-center cursor-pointer"},we={class:"mt-6 pt-6 border-t"},ve=["disabled"],he={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6"},ke={class:"space-y-6"},Pe={class:"flex items-center justify-between"},Ne={class:"relative inline-flex items-center cursor-pointer"},Ue={class:"flex items-center justify-between"},Ce={class:"relative inline-flex items-center cursor-pointer"},Ve={class:"bg-white rounded-2xl shadow-sm border border-red-200 p-6"},Se={class:"space-y-4"},Ae={class:"flex items-center justify-between p-4 bg-red-50 rounded-xl"},De={class:"flex items-center justify-between p-4 bg-red-50 rounded-xl"},Ee={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},je={class:"bg-white rounded-2xl p-8 max-w-md w-full mx-4"},Me={class:"flex space-x-4"},Te={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Oe={class:"bg-white rounded-2xl p-8 max-w-md w-full mx-4"},Ye={class:"mb-6"},Le={class:"flex space-x-4"},$e=["disabled"],qe={__name:"settings",setup(Be){const k=O(),n=Y(),d=L(),b=c(!1),g=c(!1),x=c(!1),y=c(!1),h=c(""),a=A({currentPassword:"",newPassword:"",confirmPassword:""}),r=A({emailNotifications:!0,pushNotifications:!0,marketingEmails:!1,newOffers:!0,appealUpdates:!0,newApplications:!0,programUpdates:!0,profileVisible:!0,showContact:!1}),D=()=>{d.addNotification({type:"info",title:"Verification email sent",message:"Please check your email for verification instructions."})},E=async()=>{if(a.newPassword!==a.confirmPassword){d.addNotification({type:"error",title:"Password mismatch",message:"New passwords do not match."});return}b.value=!0;try{await new Promise(l=>setTimeout(l,1e3)),d.addNotification({type:"success",title:"Password updated",message:"Your password has been updated successfully."}),a.currentPassword="",a.newPassword="",a.confirmPassword=""}catch{d.addNotification({type:"error",title:"Update failed",message:"Failed to update password. Please try again."})}finally{b.value=!1}},j=async()=>{g.value=!0;try{await new Promise(l=>setTimeout(l,1e3)),d.addNotification({type:"success",title:"Settings saved",message:"Your notification preferences have been updated."})}catch{d.addNotification({type:"error",title:"Save failed",message:"Failed to save settings. Please try again."})}finally{g.value=!1}},M=()=>{d.addNotification({type:"info",title:"Account deactivated",message:"Your account has been deactivated. You can reactivate it anytime."}),x.value=!1,n.logout(),k.push("/")},T=()=>{d.addNotification({type:"success",title:"Account deleted",message:"Your account has been permanently deleted."}),y.value=!1,n.logout(),k.push("/")};return $(()=>{const l=localStorage.getItem("edufund_settings");l&&Object.assign(r,JSON.parse(l))}),(l,t)=>(f(),B(z,{"page-title":"Settings","page-subtitle":"Manage your account settings and preferences","navigation-items":u(q)},{default:F(()=>{var P,N,U,C,V,S;return[e("div",I,[e("div",_,[e("div",J,[t[22]||(t[22]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Account Settings",-1)),e("div",Z,[e("div",H,[e("div",null,[t[17]||(t[17]=e("h3",{class:"font-medium text-gray-900"},"Email Verification",-1)),e("p",K,w((P=u(n).user)==null?void 0:P.email),1)]),e("div",Q,[e("span",{class:G(["px-3 py-1 rounded-full text-sm font-medium",(N=u(n).user)!=null&&N.verified?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"])},w((U=u(n).user)!=null&&U.verified?"Verified":"Unverified"),3),(C=u(n).user)!=null&&C.verified?m("",!0):(f(),p("button",{key:0,onClick:D,class:"text-coral-500 hover:text-coral-600 font-medium text-sm"}," Verify "))])]),e("div",W,[t[21]||(t[21]=e("h3",{class:"font-medium text-gray-900 mb-4"},"Change Password",-1)),e("form",{onSubmit:R(E,["prevent"]),class:"space-y-4"},[e("div",null,[t[18]||(t[18]=e("label",{for:"currentPassword",class:"form-label"},"Current Password",-1)),o(e("input",{id:"currentPassword","onUpdate:modelValue":t[0]||(t[0]=s=>a.currentPassword=s),type:"password",required:"",class:"form-input"},null,512),[[v,a.currentPassword]])]),e("div",X,[e("div",null,[t[19]||(t[19]=e("label",{for:"newPassword",class:"form-label"},"New Password",-1)),o(e("input",{id:"newPassword","onUpdate:modelValue":t[1]||(t[1]=s=>a.newPassword=s),type:"password",required:"",class:"form-input"},null,512),[[v,a.newPassword]])]),e("div",null,[t[20]||(t[20]=e("label",{for:"confirmPassword",class:"form-label"},"Confirm New Password",-1)),o(e("input",{id:"confirmPassword","onUpdate:modelValue":t[2]||(t[2]=s=>a.confirmPassword=s),type:"password",required:"",class:"form-input"},null,512),[[v,a.confirmPassword]])])]),e("button",{type:"submit",disabled:b.value,class:"btn-primary"},w(b.value?"Updating...":"Update Password"),9,ee)],32)])])]),e("div",te,[t[39]||(t[39]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Notification Preferences",-1)),e("div",se,[e("div",re,[t[24]||(t[24]=e("div",null,[e("h3",{class:"font-medium text-gray-900"},"Email Notifications"),e("p",{class:"text-sm text-gray-600"},"Receive updates about your account via email")],-1)),e("label",oe,[o(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>r.emailNotifications=s),type:"checkbox",class:"sr-only peer"},null,512),[[i,r.emailNotifications]]),t[23]||(t[23]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-coral-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-coral-500"},null,-1))])]),e("div",ae,[t[26]||(t[26]=e("div",null,[e("h3",{class:"font-medium text-gray-900"},"Push Notifications"),e("p",{class:"text-sm text-gray-600"},"Receive push notifications in your browser")],-1)),e("label",le,[o(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>r.pushNotifications=s),type:"checkbox",class:"sr-only peer"},null,512),[[i,r.pushNotifications]]),t[25]||(t[25]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-coral-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-coral-500"},null,-1))])]),e("div",ie,[t[28]||(t[28]=e("div",null,[e("h3",{class:"font-medium text-gray-900"},"Marketing Communications"),e("p",{class:"text-sm text-gray-600"},"Receive updates about new features and opportunities")],-1)),e("label",ne,[o(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>r.marketingEmails=s),type:"checkbox",class:"sr-only peer"},null,512),[[i,r.marketingEmails]]),t[27]||(t[27]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-coral-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-coral-500"},null,-1))])]),((V=u(n).user)==null?void 0:V.role)==="student"?(f(),p("div",de,[t[33]||(t[33]=e("h4",{class:"font-medium text-gray-900"},"Student Notifications",-1)),e("div",ue,[t[30]||(t[30]=e("div",null,[e("h3",{class:"font-medium text-gray-900"},"New Offers"),e("p",{class:"text-sm text-gray-600"},"Get notified when new offers match your profile")],-1)),e("label",fe,[o(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>r.newOffers=s),type:"checkbox",class:"sr-only peer"},null,512),[[i,r.newOffers]]),t[29]||(t[29]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-coral-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-coral-500"},null,-1))])]),e("div",ce,[t[32]||(t[32]=e("div",null,[e("h3",{class:"font-medium text-gray-900"},"Appeal Updates"),e("p",{class:"text-sm text-gray-600"},"Get notified about donations and updates to your appeals")],-1)),e("label",pe,[o(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>r.appealUpdates=s),type:"checkbox",class:"sr-only peer"},null,512),[[i,r.appealUpdates]]),t[31]||(t[31]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-coral-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-coral-500"},null,-1))])])])):m("",!0),((S=u(n).user)==null?void 0:S.role)==="sponsor"?(f(),p("div",me,[t[38]||(t[38]=e("h4",{class:"font-medium text-gray-900"},"Sponsor Notifications",-1)),e("div",be,[t[35]||(t[35]=e("div",null,[e("h3",{class:"font-medium text-gray-900"},"New Applications"),e("p",{class:"text-sm text-gray-600"},"Get notified when students apply to your programs")],-1)),e("label",ge,[o(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>r.newApplications=s),type:"checkbox",class:"sr-only peer"},null,512),[[i,r.newApplications]]),t[34]||(t[34]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-coral-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-coral-500"},null,-1))])]),e("div",xe,[t[37]||(t[37]=e("div",null,[e("h3",{class:"font-medium text-gray-900"},"Program Updates"),e("p",{class:"text-sm text-gray-600"},"Get notified about your program performance and milestones")],-1)),e("label",ye,[o(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>r.programUpdates=s),type:"checkbox",class:"sr-only peer"},null,512),[[i,r.programUpdates]]),t[36]||(t[36]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-coral-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-coral-500"},null,-1))])])])):m("",!0)]),e("div",we,[e("button",{onClick:j,disabled:g.value,class:"btn-primary"},w(g.value?"Saving...":"Save Preferences"),9,ve)])]),e("div",he,[t[44]||(t[44]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Privacy Settings",-1)),e("div",ke,[e("div",Pe,[t[41]||(t[41]=e("div",null,[e("h3",{class:"font-medium text-gray-900"},"Profile Visibility"),e("p",{class:"text-sm text-gray-600"},"Make your profile visible to other users")],-1)),e("label",Ne,[o(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>r.profileVisible=s),type:"checkbox",class:"sr-only peer"},null,512),[[i,r.profileVisible]]),t[40]||(t[40]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-coral-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-coral-500"},null,-1))])]),e("div",Ue,[t[43]||(t[43]=e("div",null,[e("h3",{class:"font-medium text-gray-900"},"Show Contact Information"),e("p",{class:"text-sm text-gray-600"},"Allow others to see your contact details")],-1)),e("label",Ce,[o(e("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>r.showContact=s),type:"checkbox",class:"sr-only peer"},null,512),[[i,r.showContact]]),t[42]||(t[42]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-coral-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-coral-500"},null,-1))])])])]),e("div",Ve,[t[47]||(t[47]=e("h2",{class:"text-xl font-semibold text-red-600 mb-6"},"Danger Zone",-1)),e("div",Se,[e("div",Ae,[t[45]||(t[45]=e("div",null,[e("h3",{class:"font-medium text-red-900"},"Deactivate Account"),e("p",{class:"text-sm text-red-700"},"Temporarily disable your account")],-1)),e("button",{onClick:t[12]||(t[12]=s=>x.value=!0),class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200"}," Deactivate ")]),e("div",De,[t[46]||(t[46]=e("div",null,[e("h3",{class:"font-medium text-red-900"},"Delete Account"),e("p",{class:"text-sm text-red-700"},"Permanently delete your account and all data")],-1)),e("button",{onClick:t[13]||(t[13]=s=>y.value=!0),class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200"}," Delete ")])])])]),x.value?(f(),p("div",Ee,[e("div",je,[t[48]||(t[48]=e("h3",{class:"text-xl font-bold text-gray-900 mb-4"},"Deactivate Account",-1)),t[49]||(t[49]=e("p",{class:"text-gray-600 mb-6"},"Are you sure you want to deactivate your account? You can reactivate it anytime by logging in.",-1)),e("div",Me,[e("button",{onClick:t[14]||(t[14]=s=>x.value=!1),class:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"}," Cancel "),e("button",{onClick:M,class:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"}," Deactivate ")])])])):m("",!0),y.value?(f(),p("div",Te,[e("div",Oe,[t[51]||(t[51]=e("h3",{class:"text-xl font-bold text-red-600 mb-4"},"Delete Account",-1)),t[52]||(t[52]=e("p",{class:"text-gray-600 mb-4"},"This action cannot be undone. All your data will be permanently deleted.",-1)),e("div",Ye,[t[50]||(t[50]=e("label",{for:"confirmDelete",class:"form-label"},'Type "DELETE" to confirm',-1)),o(e("input",{id:"confirmDelete","onUpdate:modelValue":t[15]||(t[15]=s=>h.value=s),type:"text",class:"form-input",placeholder:"DELETE"},null,512),[[v,h.value]])]),e("div",Le,[e("button",{onClick:t[16]||(t[16]=s=>y.value=!1),class:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"}," Cancel "),e("button",{onClick:T,disabled:h.value!=="DELETE",class:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed"}," Delete Forever ",8,$e)])])])):m("",!0)])]}),_:1},8,["navigation-items"]))}};export{qe as default};
