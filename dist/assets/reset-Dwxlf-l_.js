import{x as j,s as V,a as N,u as B,r as d,y as z,c as v,b as R,p as o,e as r,g as s,R as x,i as h,f as y,A as S,l as g,U as k,h as L,j as b}from"./index-EqsJQukp.js";const q={class:"min-h-screen flex"},A={class:"flex-1 flex items-center justify-center px-4 sm:px-6 lg:px-8 bg-white"},D={class:"max-w-md w-full space-y-8"},E={class:"text-center"},U={class:"space-y-4"},F={class:"relative"},H=["type"],I={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},T={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},$={class:"relative"},Y=["type"],G={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},J={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},K={key:0,class:"mt-2 text-xs text-red-500"},O=["disabled"],Q={key:0,class:"flex items-center justify-center"},W={key:1},X={class:"text-center"},st={__name:"reset",setup(Z){const p=j(),_=V(),u=N(),P=B(),l=d(!1),w=d(_.query.id||""),n=d(!1),i=d(!1),e=z({password:"",confirmPassword:""}),m=v(()=>e.password===e.confirmPassword),C=v(()=>m.value&&e.password.length>=8),M=async()=>{if(!w.value){u.addNotification({type:"error",title:"Invalid request",message:"This reset request is invalid, no userID found."}),p.push("/auth/forgot-password");return}l.value=!0;try{const c={id:w.value,password:e.password},t=await P.resetPassword(c);t.success&&(u.addNotification({type:"success",title:"Password reset successful!",message:t.message}),p.push("/auth/login"))}catch{u.addNotification({type:"error",title:"Reset failed",message:"Failed to reset password. Please try again."})}finally{l.value=!1}};return(c,t)=>{const f=R("router-link");return r(),o("div",q,[s("div",A,[s("div",D,[s("div",E,[h(f,{to:"/",class:"inline-flex items-center space-x-2"},{default:y(()=>t[4]||(t[4]=[s("div",{class:"w-12 h-12 bg-coral-500 rounded-xl flex items-center justify-center"},[s("span",{class:"text-white font-bold text-xl"},"L")],-1),s("span",{class:"text-2xl font-bold text-gray-900"},"Lnaid",-1)])),_:1,__:[4]})]),t[14]||(t[14]=x('<div class="text-center"><div class="w-16 h-16 bg-coral-100 rounded-full flex items-center justify-center mx-auto mb-4"><svg class="w-8 h-8 text-coral-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg></div><h2 class="text-3xl font-bold text-gray-900">Reset your password</h2><p class="mt-2 text-gray-600"> Enter your new password below to complete the reset process. </p></div>',1)),s("form",{onSubmit:S(M,["prevent"]),class:"mt-8 space-y-6"},[s("div",U,[s("div",null,[t[7]||(t[7]=s("label",{for:"password",class:"form-label"},"New Password",-1)),s("div",F,[g(s("input",{id:"password","onUpdate:modelValue":t[0]||(t[0]=a=>e.password=a),name:"password",type:n.value?"text":"password",required:"",class:"form-input pr-12",placeholder:"Enter your new password"},null,8,H),[[k,e.password]]),s("button",{type:"button",onClick:t[1]||(t[1]=a=>n.value=!n.value),class:"absolute right-3 top-1/2 -translate-y-1/2 p-2 text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600"},[n.value?(r(),o("svg",I,t[5]||(t[5]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)]))):(r(),o("svg",T,t[6]||(t[6]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])))])]),t[8]||(t[8]=s("div",{class:"mt-2 text-xs text-gray-500"}," Password must be at least 8 characters long ",-1))]),s("div",null,[t[11]||(t[11]=s("label",{for:"confirmPassword",class:"form-label"},"Confirm New Password",-1)),s("div",$,[g(s("input",{id:"confirmPassword","onUpdate:modelValue":t[2]||(t[2]=a=>e.confirmPassword=a),name:"confirmPassword",type:i.value?"text":"password",required:"",class:"form-input pr-12",placeholder:"Confirm your new password"},null,8,Y),[[k,e.confirmPassword]]),s("button",{type:"button",onClick:t[3]||(t[3]=a=>i.value=!i.value),class:"absolute right-3 top-1/2 -translate-y-1/2 p-2 text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600"},[i.value?(r(),o("svg",G,t[9]||(t[9]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)]))):(r(),o("svg",J,t[10]||(t[10]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])))])]),e.confirmPassword&&!m.value?(r(),o("div",K," Passwords do not match ")):L("",!0)])]),s("div",null,[s("button",{type:"submit",disabled:l.value||!C.value,class:"w-full btn-primary"},[l.value?(r(),o("span",Q,t[12]||(t[12]=[s("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),b(" Resetting... ")]))):(r(),o("span",W,"Reset Password"))],8,O)]),s("div",X,[h(f,{to:"/auth/login",class:"text-sm text-gray-600 hover:text-coral-500"},{default:y(()=>t[13]||(t[13]=[b(" ‚Üê Back to login ")])),_:1,__:[13]})])],32)])]),t[15]||(t[15]=x('<div class="hidden lg:block lg:flex-1 bg-gradient-to-br from-coral-500 to-coral-600"><div class="flex items-center justify-center h-full p-12"><div class="text-center text-white"><h2 class="text-4xl font-bold mb-6">Secure &amp; Protected</h2><p class="text-xl text-coral-100 mb-8"> Your account security is our priority. Create a strong password to keep your data safe. </p></div></div></div>',1))])}}};export{st as default};
