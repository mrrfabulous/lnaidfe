import{V as m,W as f,N as O,r as w,X as R,c as g}from"./index-EqsJQukp.js";import{g as h}from"./authHeader-DkpUnqMe.js";const x=async()=>{var r,a;try{return(await m.get(f.SPONSORS.OFFER.GET_ALL,{headers:h()})).data}catch(i){console.error("error:",i);const s=((a=(r=i.response)==null?void 0:r.data)==null?void 0:a.message)||i.message||"failed";throw new Error(s)}},P=async r=>{var a,i;try{return(await m.post(f.SPONSORS.OFFER.CREATE,r,{headers:h()})).data}catch(s){console.error("error:",s);const u=((i=(a=s.response)==null?void 0:a.data)==null?void 0:i.message)||s.message||"failed";throw new Error(u)}},E=async r=>{var a,i;try{return(await m.get(f.SPONSORS.OFFER.GET_ONE+"/"+r)).data}catch(s){console.error("error:",s);const u=((i=(a=s.response)==null?void 0:a.data)==null?void 0:i.message)||s.message||"failed";throw new Error(u)}},F=O("offers",()=>{const r=w([]),a=R();a!=null&&a.id;const i=g(()=>r.value),s=async()=>{try{const e=await x();if(console.log("offer result from the store",e),e.success)return{data:e.data,success:!0,pagination:e.pagination};console.error("Error fetching offers"),console.log("Error fetching offers")}catch(e){console.error("Error fetching offers:",e)}},u=async e=>{try{const n=await E(e);if(n.success)return{data:n.data,success:!0};console.error("Error fetching offer"),console.log("Error fetching offer")}catch(n){console.error("Error fetching offer:",n)}},A=g(()=>e=>r.value.filter(n=>n.sponsorId===e)),y=g(()=>e=>r.value.filter(n=>{var o,c,l,v;if(n.status!=="active")return!1;const t=n.criteria;return(!((o=t.schools)!=null&&o.length)||t.schools.includes(e.school))&&(!((c=t.courses)!=null&&c.length)||t.courses.includes(e.course))&&(!((l=t.levels)!=null&&l.length)||t.levels.includes(e.level))&&(!t.minGPA||e.gpa>=t.minGPA)&&(!t.maxGPA||e.gpa<=t.maxGPA)&&(!t.gender||t.gender==="any"||e.gender===t.gender)&&(!((v=t.states)!=null&&v.length)||t.states.includes(e.state))&&(!t.ageRange||e.age>=t.ageRange.min&&e.age<=t.ageRange.max)})),S=()=>{try{const e=localStorage.getItem("edufund_offers");e?r.value=JSON.parse(e):(r.value=[{id:1,sponsorId:1,sponsorName:"Tech Corp Foundation",sponsorAvatar:"/placeholder.svg?height=40&width=40",title:"Tech Innovation Grant",description:"Supporting innovative technology projects by computer science students",amount:1e5,totalBudget:5e5,remainingBudget:3e5,maxRecipients:5,currentRecipients:2,criteria:{schools:["University of Lagos","Obafemi Awolowo University","University of Ibadan"],courses:["Computer Science","Software Engineering","Information Technology"],levels:["300 Level","400 Level","500 Level"],minGPA:3.5,maxGPA:5,gender:"any",states:[],ageRange:{min:18,max:30},financialNeed:!1},requirements:["Academic transcript showing minimum 3.5 GPA","Project proposal (max 5 pages)","Recommendation letter from academic supervisor","Portfolio of previous projects (optional)"],selectionProcess:"merit_based",status:"active",deadline:"2026-03-31T23:59:59Z",createdAt:"2025-07-01T00:00:00Z",applications:[{id:1,studentId:1,studentName:"John Doe",studentEmail:"john@example.com",school:"University of Lagos",course:"Computer Science",level:"400 Level",gpa:4.2,status:"pending",appliedAt:"2024-01-15T10:00:00Z",documents:["transcript.pdf","proposal.pdf"],coverLetter:"I am passionate about developing innovative solutions..."}]},{id:2,sponsorId:2,sponsorName:"Women in STEM Foundation",sponsorAvatar:"/placeholder.svg?height=40&width=40",title:"Female STEM Excellence Award",description:"Empowering female students in Science, Technology, Engineering, and Mathematics",amount:15e4,totalBudget:75e4,remainingBudget:6e5,maxRecipients:5,currentRecipients:1,criteria:{schools:[],courses:["Computer Science","Engineering","Mathematics","Physics","Chemistry"],levels:["300 Level","400 Level","500 Level"],minGPA:3.7,maxGPA:5,gender:"female",states:[],ageRange:{min:18,max:35},financialNeed:!0},requirements:["Academic transcript","Personal statement (500 words)","Proof of financial need","Two recommendation letters"],selectionProcess:"holistic",status:"active",deadline:"2024-04-15T23:59:59Z",createdAt:"2024-01-05T00:00:00Z",applications:[]},{id:3,sponsorId:3,sponsorName:"Green Energy Initiative",sponsorAvatar:"/placeholder.svg?height=40&width=40",title:"Renewable Energy Research Grants",description:"Supporting research and innovation in renewable energy technologies and sustainable development solutions.",amount:2e5,totalBudget:1e6,remainingBudget:8e5,maxRecipients:5,currentRecipients:1,criteria:{schools:["University of Lagos","University of Ibadan","Ahmadu Bello University"],courses:["Engineering","Environmental Science","Physics","Chemistry"],levels:["400 Level","500 Level","Masters","PhD"],minGPA:3.8,maxGPA:5,gender:"any",states:[],ageRange:{min:20,max:40},financialNeed:!1},requirements:["Research proposal on renewable energy","Academic transcript with minimum 3.8 GPA","Supervisor endorsement letter","Environmental impact assessment","Project timeline and budget"],selectionProcess:"research_based",status:"active",deadline:"2025-09-30T23:59:59Z",createdAt:"2025-06-01T00:00:00Z",applications:[]},{id:4,sponsorId:4,sponsorName:"Medical Excellence Foundation",sponsorAvatar:"/placeholder.svg?height=40&width=40",title:"Future Doctors Scholarship",description:"Supporting outstanding medical students who demonstrate academic excellence and commitment to healthcare service.",amount:3e5,totalBudget:15e5,remainingBudget:12e5,maxRecipients:5,currentRecipients:1,criteria:{schools:["University of Lagos","University of Ibadan","Obafemi Awolowo University"],courses:["Medicine","Nursing","Pharmacy","Dentistry"],levels:["300 Level","400 Level","500 Level","600 Level"],minGPA:4,maxGPA:5,gender:"any",states:[],ageRange:{min:18,max:30},financialNeed:!0},requirements:["Medical school transcript","Personal statement on healthcare vision","Clinical experience documentation","Two faculty recommendation letters","Community service record"],selectionProcess:"holistic",status:"active",deadline:"2025-08-15T23:59:59Z",createdAt:"2025-05-15T00:00:00Z",applications:[]},{id:5,sponsorId:5,sponsorName:"Business Innovation Hub",sponsorAvatar:"/placeholder.svg?height=40&width=40",title:"Entrepreneurship Development Grant",description:"Funding innovative business ideas and startups from business and entrepreneurship students.",amount:25e4,totalBudget:125e4,remainingBudget:1e6,maxRecipients:5,currentRecipients:1,criteria:{schools:[],courses:["Business Administration","Economics","Marketing","Finance","Management"],levels:["300 Level","400 Level","500 Level","Masters"],minGPA:3.5,maxGPA:5,gender:"any",states:[],ageRange:{min:20,max:35},financialNeed:!1},requirements:["Business plan (10-15 pages)","Market research and analysis","Financial projections","Pitch deck presentation","Team composition and roles"],selectionProcess:"merit_based",status:"active",deadline:"2025-10-31T23:59:59Z",createdAt:"2025-07-01T00:00:00Z",applications:[]},{id:6,sponsorId:6,sponsorName:"Arts & Culture Foundation",sponsorAvatar:"/placeholder.svg?height=40&width=40",title:"Creative Arts Excellence Award",description:"Recognizing and supporting exceptional talent in creative arts, design, and cultural studies.",amount:12e4,totalBudget:6e5,remainingBudget:48e4,maxRecipients:5,currentRecipients:1,criteria:{schools:[],courses:["Fine Arts","Music","Theatre Arts","Creative Writing","Film Studies","Design"],levels:["200 Level","300 Level","400 Level","500 Level"],minGPA:3,maxGPA:5,gender:"any",states:[],ageRange:{min:18,max:28},financialNeed:!0},requirements:["Portfolio of creative works","Artist statement (500 words)","Academic transcript","Performance or exhibition record","Mentor recommendation letter"],selectionProcess:"portfolio_based",status:"active",deadline:"2025-11-30T23:59:59Z",createdAt:"2025-06-15T00:00:00Z",applications:[]},{id:7,sponsorId:7,sponsorName:"Agricultural Development Corp",sponsorAvatar:"/placeholder.svg?height=40&width=40",title:"Sustainable Agriculture Grant",description:"Supporting innovative approaches to sustainable farming and agricultural technology development.",amount:18e4,totalBudget:9e5,remainingBudget:72e4,maxRecipients:5,currentRecipients:1,criteria:{schools:["University of Agriculture, Abeokuta","Ahmadu Bello University","University of Ibadan"],courses:["Agriculture","Agricultural Engineering","Crop Science","Animal Science","Soil Science"],levels:["300 Level","400 Level","500 Level","Masters"],minGPA:3.6,maxGPA:5,gender:"any",states:["Ogun","Kaduna","Oyo","Kano","Plateau"],ageRange:{min:20,max:35},financialNeed:!1},requirements:["Research proposal on sustainable agriculture","Academic transcript","Farm visit and assessment report","Supervisor recommendation","Implementation timeline"],selectionProcess:"research_based",status:"active",deadline:"2025-12-15T23:59:59Z",createdAt:"2025-07-01T00:00:00Z",applications:[]}],p())}catch(e){console.error("Failed to initialize offers:",e),r.value=[]}},p=()=>{localStorage.setItem("edufund_offers",JSON.stringify(r.value))};return{offers:r,fetchOffers:s,getOffers:i,getSponsorOffers:A,getMatchingOffers:y,initializeOffers:S,createOffer:async e=>{try{const n=await P(e);console.log("offerResult:",n)}catch(n){console.log(n)}},getSingleOffer:u,updateOffer:(e,n)=>{const t=r.value.findIndex(d=>d.id===e);return t!==-1?(r.value[t]={...r.value[t],...n,updatedAt:new Date().toISOString()},p(),r.value[t]):null},applyToOffer:(e,n)=>{const t=r.value.find(d=>d.id===e);return t&&t.currentRecipients<t.maxRecipients?(t.applications.push({id:Date.now(),...n,status:"pending",appliedAt:new Date().toISOString()}),p(),!0):!1},updateApplicationStatus:(e,n,t,d="")=>{const o=r.value.find(c=>c.id===e);if(o){const c=o.applications.find(l=>l.id===n);if(c){const l=c.status;return c.status=t,c.updatedAt=new Date().toISOString(),c.feedback=d,t==="approved"&&l!=="approved"?(o.remainingBudget-=o.amount,o.currentRecipients+=1):t==="rejected"&&l==="approved"&&(o.remainingBudget+=o.amount,o.currentRecipients-=1),p(),!0}}return!1},deleteOffer:e=>{const n=r.value.findIndex(t=>t.id===e);return n!==-1?(r.value.splice(n,1),p(),!0):!1}}});export{F as u};
